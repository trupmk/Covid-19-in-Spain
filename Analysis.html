<html>
<head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
<!--
span.cls_002{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_002{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_003{font-family:Arial,serif;font-size:16.4px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_003{font-family:Arial,serif;font-size:16.4px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_004{font-family:Arial,serif;font-size:16.4px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_004{font-family:Arial,serif;font-size:16.4px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_005{font-family:"Cambria Math",serif;font-size:8.1px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_005{font-family:"Cambria Math",serif;font-size:8.1px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_006{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_006{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_007{font-family:Arial,serif;font-size:11.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_007{font-family:Arial,serif;font-size:11.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_008{font-family:"Consolas",serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_008{font-family:"Consolas",serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_009{font-family:"Consolas Bold",serif;font-size:10.0px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_009{font-family:"Consolas Bold",serif;font-size:10.0px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_010{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_010{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_011{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_011{font-family:Arial,serif;font-size:10.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_012{font-family:Arial,serif;font-size:14.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_012{font-family:Arial,serif;font-size:14.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_015{font-family:"Verdana",serif;font-size:12.2px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_015{font-family:"Verdana",serif;font-size:12.2px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_014{font-family:"Verdana",serif;font-size:8.6px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_014{font-family:"Verdana",serif;font-size:8.6px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_017{font-family:"Cambria Math",serif;font-size:8.6px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_017{font-family:"Cambria Math",serif;font-size:8.6px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_016{font-family:"Verdana",serif;font-size:10.0px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_016{font-family:"Verdana",serif;font-size:10.0px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_018{font-family:"Consolas",serif;font-size:9.7px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_018{font-family:"Consolas",serif;font-size:9.7px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_020{font-family:"Verdana",serif;font-size:11.8px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_020{font-family:"Verdana",serif;font-size:11.8px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_019{font-family:"Verdana",serif;font-size:8.3px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_019{font-family:"Verdana",serif;font-size:8.3px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_021{font-family:"Verdana",serif;font-size:9.7px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_021{font-family:"Verdana",serif;font-size:9.7px;color:rgb(41,63,94);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_022{font-family:Arial,serif;font-size:12.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_022{font-family:Arial,serif;font-size:12.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_023{font-family:Arial,serif;font-size:15.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_023{font-family:Arial,serif;font-size:15.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_024{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_024{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_050{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: underline}
div.cls_050{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_025{font-family:Arial,serif;font-size:17.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_025{font-family:Arial,serif;font-size:17.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_027{font-family:Arial,serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_027{font-family:Arial,serif;font-size:9.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_028{font-family:"Lucida Console",serif;font-size:8.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_028{font-family:"Lucida Console",serif;font-size:8.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_029{font-family:Arial,serif;font-size:8.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_029{font-family:Arial,serif;font-size:8.3px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_026{font-family:Arial,serif;font-size:10.6px;color:rgb(86,86,86);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_026{font-family:Arial,serif;font-size:10.6px;color:rgb(86,86,86);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_030{font-family:Arial,serif;font-size:13.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_030{font-family:Arial,serif;font-size:13.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_031{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_031{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_032{font-family:Arial,serif;font-size:8.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_032{font-family:Arial,serif;font-size:8.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_033{font-family:"Consolas",serif;font-size:9.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_033{font-family:"Consolas",serif;font-size:9.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_034{font-family:Arial,serif;font-size:11.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_034{font-family:Arial,serif;font-size:11.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_035{font-family:Arial,serif;font-size:16.3px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_035{font-family:Arial,serif;font-size:16.3px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_036{font-family:Arial,serif;font-size:11.3px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_036{font-family:Arial,serif;font-size:11.3px;color:rgb(32,32,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_037{font-family:Arial,serif;font-size:14.2px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_037{font-family:Arial,serif;font-size:14.2px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_038{font-family:"Consolas",serif;font-size:9.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_038{font-family:"Consolas",serif;font-size:9.5px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_039{font-family:Arial,serif;font-size:15.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_039{font-family:Arial,serif;font-size:15.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_040{font-family:Arial,serif;font-size:13.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_040{font-family:Arial,serif;font-size:13.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_041{font-family:Arial,serif;font-size:9.5px;color:rgb(32,32,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_041{font-family:Arial,serif;font-size:9.5px;color:rgb(32,32,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_042{font-family:Arial,serif;font-size:8.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_042{font-family:Arial,serif;font-size:8.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_043{font-family:Arial,serif;font-size:15.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_043{font-family:Arial,serif;font-size:15.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_044{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_044{font-family:"Consolas",serif;font-size:10.6px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_045{font-family:Arial,serif;font-size:17.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_045{font-family:Arial,serif;font-size:17.3px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_046{font-family:Arial,serif;font-size:12.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_046{font-family:Arial,serif;font-size:12.0px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_047{font-family:"Consolas",serif;font-size:9.1px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_047{font-family:"Consolas",serif;font-size:9.1px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_048{font-family:Arial,serif;font-size:10.4px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_048{font-family:Arial,serif;font-size:10.4px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_049{font-family:Arial,serif;font-size:12.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_049{font-family:Arial,serif;font-size:12.9px;color:rgb(32,32,32);font-weight:normal;font-style:normal;text-decoration: none}
-->
</style>
<script type="text/javascript" src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:absolute;left:50%;margin-left:-421px;top:0px;width:842px;height:595px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background01.jpg" width=842 height=595></div>
<div style="position:absolute;left:26.45px;top:13.08px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:387.03px;top:13.08px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:50.38px;top:50.89px" class="cls_003"><span class="cls_003">COVID-19 Situation in Spain</span></div>
<div style="position:absolute;left:50.38px;top:104.34px" class="cls_004"><span class="cls_004">Libraries</span></div>
<div style="position:absolute;left:56.80px;top:140.69px" class="cls_005"><span class="cls_005">↳</span><span class="cls_006"> 3 cells hidden</span></div>
<div style="position:absolute;left:50.38px;top:181.31px" class="cls_004"><span class="cls_004">Data loading and general overview</span></div>
<div style="position:absolute;left:50.38px;top:214.10px" class="cls_007"><span class="cls_007">First, we will load the csv  le from the o  cal Spanish goverment site which as we said is updated every 24 hours.</span></div>
<div style="position:absolute;left:50.38px;top:237.62px" class="cls_007"><span class="cls_007">Spanish government website (updated every 24 hours) The data can be automatically downloaded from the link below and will be saved in our</span></div>
<div style="position:absolute;left:50.38px;top:255.44px" class="cls_007"><span class="cls_007">dataframe called data.</span></div>
<div style="position:absolute;left:56.80px;top:281.09px" class="cls_005"><span class="cls_005">↳</span><span class="cls_006"> 14 cells hidden</span></div>
<div style="position:absolute;left:50.38px;top:321.72px" class="cls_004"><span class="cls_004">Plotting</span></div>
<div style="position:absolute;left:48.96px;top:371.61px" class="cls_008"><span class="cls_008">aux = total_s.melt(id_vars="Date", value_vars=("Cases","Infected","TestAc+","Deaths","ICU","Hospitalized"), value_name="Co</span></div>
<div style="position:absolute;left:48.96px;top:385.15px" class="cls_008"><span class="cls_008">aux.head()</span></div>
<div style="position:absolute;left:126.80px;top:415.80px" class="cls_009"><span class="cls_009">Date  Description  Count</span></div>
<div style="position:absolute;left:81.82px;top:438.60px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:97.70px;top:438.60px" class="cls_011"><span class="cls_011">2020-02-20</span></div>
<div style="position:absolute;left:191.02px;top:438.60px" class="cls_011"><span class="cls_011">Cases</span></div>
<div style="position:absolute;left:243.20px;top:438.60px" class="cls_011"><span class="cls_011">0.0</span></div>
<div style="position:absolute;left:81.82px;top:460.70px" class="cls_010"><span class="cls_010">1</span></div>
<div style="position:absolute;left:97.70px;top:460.70px" class="cls_011"><span class="cls_011">2020-02-21</span></div>
<div style="position:absolute;left:191.02px;top:460.70px" class="cls_011"><span class="cls_011">Cases</span></div>
<div style="position:absolute;left:243.20px;top:460.70px" class="cls_011"><span class="cls_011">0.0</span></div>
<div style="position:absolute;left:81.82px;top:482.79px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:97.70px;top:482.79px" class="cls_011"><span class="cls_011">2020-02-22</span></div>
<div style="position:absolute;left:191.02px;top:482.79px" class="cls_011"><span class="cls_011">Cases</span></div>
<div style="position:absolute;left:243.20px;top:482.79px" class="cls_011"><span class="cls_011">0.0</span></div>
<div style="position:absolute;left:81.82px;top:504.89px" class="cls_010"><span class="cls_010">3</span></div>
<div style="position:absolute;left:97.70px;top:504.89px" class="cls_011"><span class="cls_011">2020-02-23</span></div>
<div style="position:absolute;left:191.02px;top:504.89px" class="cls_011"><span class="cls_011">Cases</span></div>
<div style="position:absolute;left:243.20px;top:504.89px" class="cls_011"><span class="cls_011">0.0</span></div>
<div style="position:absolute;left:81.82px;top:526.98px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:97.70px;top:526.98px" class="cls_011"><span class="cls_011">2020-02-24</span></div>
<div style="position:absolute;left:191.02px;top:526.98px" class="cls_011"><span class="cls_011">Cases</span></div>
<div style="position:absolute;left:243.20px;top:526.98px" class="cls_011"><span class="cls_011">0.0</span></div>
<div style="position:absolute;left:26.45px;top:570.08px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=ah2xvtjpoppn&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=aH2xvtJPoPpn&printMode=true</A> </div>
<div style="position:absolute;left:800.95px;top:570.08px" class="cls_002"><span class="cls_002">1/41</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-421px;top:605px;width:842px;height:595px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background02.jpg" width=842 height=595></div>
<div style="position:absolute;left:26.45px;top:13.08px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:387.03px;top:13.08px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:48.96px;top:29.51px" class="cls_008"><span class="cls_008">data_infected = data[data.Date>"20-02-2020"]</span></div>
<div style="position:absolute;left:50.38px;top:67.99px" class="cls_012"><span class="cls_012">Infections over time</span></div>
<div style="position:absolute;left:48.96px;top:114.32px" class="cls_008"><span class="cls_008">fig = px.bar(data_infected, x="CCAA", y="Infected", color="CCAA",</span></div>
<div style="position:absolute;left:125.76px;top:127.86px" class="cls_008"><span class="cls_008">animation_frame="NEW_DATE", animation_group="CCAA", range_y=[0,data.Infected.max()+1000],title= "Infections</span></div>
<div style="position:absolute;left:48.96px;top:141.40px" class="cls_008"><span class="cls_008">fig.show()</span></div>
<div style="position:absolute;left:110.36px;top:191.29px" class="cls_015"><span class="cls_015">Infections by regions over time</span></div>
<div style="position:absolute;left:626.08px;top:244.16px" class="cls_014"><span class="cls_014">CCAA=Andalucía</span></div>
<div style="position:absolute;left:117.12px;top:256.33px" class="cls_014"><span class="cls_014">60k</span></div>
<div style="position:absolute;left:626.08px;top:257.70px" class="cls_014"><span class="cls_014">CCAA=Aragón</span></div>
<div style="position:absolute;left:626.08px;top:271.24px" class="cls_014"><span class="cls_014">CCAA=Asturias</span></div>
<div style="position:absolute;left:117.12px;top:284.71px" class="cls_014"><span class="cls_014">50k</span></div>
<div style="position:absolute;left:626.08px;top:284.79px" class="cls_014"><span class="cls_014">CCAA=Baleares</span></div>
<div style="position:absolute;left:626.08px;top:298.33px" class="cls_014"><span class="cls_014">CCAA=Canarias</span></div>
<div style="position:absolute;left:117.12px;top:313.09px" class="cls_014"><span class="cls_014">40k</span></div>
<div style="position:absolute;left:626.08px;top:311.87px" class="cls_014"><span class="cls_014">CCAA=Cantabria</span></div>
<div style="position:absolute;left:626.08px;top:325.41px" class="cls_014"><span class="cls_014">CCAA=Castilla La Mancha</span></div>
<div style="position:absolute;left:626.08px;top:338.95px" class="cls_014"><span class="cls_014">CCAA=Castilla y León</span></div>
<div style="position:absolute;left:117.12px;top:341.48px" class="cls_014"><span class="cls_014">30k</span></div>
<div style="position:absolute;left:626.08px;top:352.49px" class="cls_014"><span class="cls_014">CCAA=Cataluña</span></div>
<div style="position:absolute;left:626.08px;top:366.04px" class="cls_014"><span class="cls_014">CCAA=Ceuta</span></div>
<div style="position:absolute;left:117.12px;top:369.86px" class="cls_014"><span class="cls_014">20k</span></div>
<div style="position:absolute;left:626.08px;top:379.58px" class="cls_014"><span class="cls_014">CCAA=C. Valenciana</span></div>
<div style="position:absolute;left:626.08px;top:393.12px" class="cls_014"><span class="cls_014">CCAA=Extremadura</span></div>
<div style="position:absolute;left:117.12px;top:398.25px" class="cls_014"><span class="cls_014">10k</span></div>
<div style="position:absolute;left:626.08px;top:406.66px" class="cls_014"><span class="cls_014">CCAA=Galicia</span></div>
<div style="position:absolute;left:626.08px;top:420.20px" class="cls_014"><span class="cls_014">CCAA=Madrid</span></div>
<div style="position:absolute;left:127.62px;top:426.63px" class="cls_014"><span class="cls_014">0</span></div>
<div style="position:absolute;left:179.38px;top:477.52px" class="cls_014"><span class="cls_014">NEW_DATE=20 May, 2020</span></div>
<div style="position:absolute;left:131.63px;top:488.14px" class="cls_017"><span class="cls_017">▶</span></div>
<div style="position:absolute;left:157.29px;top:488.14px" class="cls_017"><span class="cls_017">◼</span></div>
<div style="position:absolute;left:347.34px;top:490.33px" class="cls_016"><span class="cls_016">CCAA</span></div>
<div style="position:absolute;left:158.13px;top:518.14px" class="cls_014"><span class="cls_014">21 Feb, 2020</span></div>
<div style="position:absolute;left:224.79px;top:518.14px" class="cls_014"><span class="cls_014">07 Mar, 2020</span></div>
<div style="position:absolute;left:291.34px;top:518.14px" class="cls_014"><span class="cls_014">22 Mar, 2020</span></div>
<div style="position:absolute;left:358.47px;top:518.14px" class="cls_014"><span class="cls_014">06 Apr, 2020</span></div>
<div style="position:absolute;left:425.02px;top:518.14px" class="cls_014"><span class="cls_014">21 Apr, 2020</span></div>
<div style="position:absolute;left:490.10px;top:518.14px" class="cls_014"><span class="cls_014">06 May, 2020</span></div>
<div style="position:absolute;left:26.45px;top:570.08px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=ah2xvtjpoppn&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=aH2xvtJPoPpn&printMode=true</A> </div>
<div style="position:absolute;left:800.95px;top:570.08px" class="cls_002"><span class="cls_002">2/41</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-421px;top:1210px;width:842px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background03.jpg" width=842 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:387.03px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:48.33px;top:38.54px" class="cls_018"><span class="cls_018">total_madrid = data[data.CCAA=="Madrid"].groupby("Date")["Date","Infected","Deaths","Hospitalized","ICU"].sum().reset_inde</span></div>
<div style="position:absolute;left:48.33px;top:73.74px" class="cls_018"><span class="cls_018">aux_m = total_madrid.melt(id_vars="Date", value_vars=("Infected","Deaths","ICU","Hospitalized"), value_name="Count" , var_</span></div>
<div style="position:absolute;left:48.33px;top:108.94px" class="cls_018"><span class="cls_018">fig = px.bar(aux_m, x= "Date", y = "Count", color="Status", title= "Actual situation in Madrid")</span></div>
<div style="position:absolute;left:48.33px;top:122.06px" class="cls_018"><span class="cls_018">fig.show()</span></div>
<div style="position:absolute;left:107.79px;top:170.37px" class="cls_020"><span class="cls_020">Actual situation in Madrid</span></div>
<div style="position:absolute;left:630.46px;top:221.57px" class="cls_019"><span class="cls_019">Status=Infected</span></div>
<div style="position:absolute;left:109.07px;top:227.02px" class="cls_019"><span class="cls_019">120k</span></div>
<div style="position:absolute;left:630.46px;top:234.68px" class="cls_019"><span class="cls_019">Status=Deaths</span></div>
<div style="position:absolute;left:630.46px;top:247.80px" class="cls_019"><span class="cls_019">Status=ICU</span></div>
<div style="position:absolute;left:630.46px;top:260.91px" class="cls_019"><span class="cls_019">Status=Hospitalized</span></div>
<div style="position:absolute;left:109.07px;top:264.07px" class="cls_019"><span class="cls_019">100k</span></div>
<div style="position:absolute;left:114.34px;top:301.13px" class="cls_019"><span class="cls_019">80k</span></div>
<div style="position:absolute;left:114.34px;top:338.19px" class="cls_019"><span class="cls_019">60k</span></div>
<div style="position:absolute;left:114.34px;top:375.24px" class="cls_019"><span class="cls_019">40k</span></div>
<div style="position:absolute;left:114.34px;top:412.29px" class="cls_019"><span class="cls_019">20k</span></div>
<div style="position:absolute;left:124.50px;top:449.35px" class="cls_019"><span class="cls_019">0</span></div>
<div style="position:absolute;left:172.06px;top:455.43px" class="cls_019"><span class="cls_019">Mar 1</span></div>
<div style="position:absolute;left:240.68px;top:455.43px" class="cls_019"><span class="cls_019">Mar 15</span></div>
<div style="position:absolute;left:311.93px;top:455.43px" class="cls_019"><span class="cls_019">Mar 29</span></div>
<div style="position:absolute;left:383.75px;top:455.43px" class="cls_019"><span class="cls_019">Apr 12</span></div>
<div style="position:absolute;left:455.00px;top:455.43px" class="cls_019"><span class="cls_019">Apr 26</span></div>
<div style="position:absolute;left:525.03px;top:455.43px" class="cls_019"><span class="cls_019">May 10</span></div>
<div style="position:absolute;left:173.36px;top:466.19px" class="cls_019"><span class="cls_019">2020</span></div>
<div style="position:absolute;left:350.62px;top:484.01px" class="cls_021"><span class="cls_021">Date</span></div>
<div style="position:absolute;left:48.33px;top:532.04px" class="cls_018"><span class="cls_018">for i in data.CCAA.unique():</span></div>
<div style="position:absolute;left:69.58px;top:558.27px" class="cls_018"><span class="cls_018">a = i.replace(".","")</span></div>
<div style="position:absolute;left:69.58px;top:571.38px" class="cls_018"><span class="cls_018">a = a.replace(" ","_")</span></div>
<div style="position:absolute;left:69.57px;top:597.61px" class="cls_018"><span class="cls_018">exec('df_{}=data[data.CCAA == i]'.format(a))</span></div>
<div style="position:absolute;left:69.57px;top:623.83px" class="cls_018"><span class="cls_018">exec('aux_a = df_{}.Infected.to_list()'.format(a))</span></div>
<div style="position:absolute;left:69.58px;top:663.18px" class="cls_018"><span class="cls_018">daily=[]</span></div>
<div style="position:absolute;left:69.57px;top:676.29px" class="cls_018"><span class="cls_018">for i in range(len(aux_a)-1):</span></div>
<div style="position:absolute;left:90.83px;top:689.40px" class="cls_018"><span class="cls_018">b = aux_a[i+1] - aux_a[i]</span></div>
<div style="position:absolute;left:90.83px;top:702.52px" class="cls_018"><span class="cls_018">daily.append(b)</span></div>
<div style="position:absolute;left:69.58px;top:728.75px" class="cls_018"><span class="cls_018">daily.insert(0,0)</span></div>
<div style="position:absolute;left:69.57px;top:754.97px" class="cls_018"><span class="cls_018">exec('df_{}["Daily_infected"] = daily'.format(a))</span></div>
<div style="position:absolute;left:69.57px;top:781.20px" class="cls_018"><span class="cls_018">exec('aux_d = df_{}.Deaths.to_list()'.format(a))</span></div>
<div style="position:absolute;left:69.58px;top:820.54px" class="cls_018"><span class="cls_018">daily=[]</span></div>
<div style="position:absolute;left:69.57px;top:833.66px" class="cls_018"><span class="cls_018">for i in range(len(aux_d)-1):</span></div>
<div style="position:absolute;left:90.83px;top:846.77px" class="cls_018"><span class="cls_018">b = aux_d[i+1] - aux_d[i]</span></div>
<div style="position:absolute;left:90.83px;top:859.88px" class="cls_018"><span class="cls_018">daily.append(b)</span></div>
<div style="position:absolute;left:69.58px;top:886.11px" class="cls_018"><span class="cls_018">daily.insert(0,0)</span></div>
<div style="position:absolute;left:69.57px;top:912.34px" class="cls_018"><span class="cls_018">exec('df_{}["Daily_deaths"] = daily'.format(a))</span></div>
<div style="position:absolute;left:48.33px;top:960.65px" class="cls_018"><span class="cls_018">df_daily_infected = pd.DataFrame({"Date":data.Date.unique(),</span></div>
<div style="position:absolute;left:223.64px;top:973.77px" class="cls_018"><span class="cls_018">"Madrid":df_Madrid["Daily_infected"].values,</span></div>
<div style="position:absolute;left:223.64px;top:986.88px" class="cls_018"><span class="cls_018">"Cataluña":df_Cataluña["Daily_infected"].values,</span></div>
<div style="position:absolute;left:223.64px;top:999.99px" class="cls_018"><span class="cls_018">"Andalucia":df_Andalucía["Daily_infected"].values,</span></div>
<div style="position:absolute;left:223.64px;top:1013.11px" class="cls_018"><span class="cls_018">"Castilla La Mancha":df_Castilla_La_Mancha["Daily_infected"].values,</span></div>
<div style="position:absolute;left:223.64px;top:1026.22px" class="cls_018"><span class="cls_018">"Castilla y Leon":df_Castilla_y_León["Daily_infected"].values,</span></div>
<div style="position:absolute;left:223.64px;top:1039.34px" class="cls_018"><span class="cls_018">"País Vasco":df_País_Vasco["Daily_infected"].values})</span></div>
<div style="position:absolute;left:48.33px;top:1074.54px" class="cls_018"><span class="cls_018">aux_i = df_daily_infected.melt(id_vars="Date", value_vars=("Madrid","Cataluña","Andalucia","Castilla La Mancha","Castilla</span></div>
<div style="position:absolute;left:49.71px;top:1110.43px" class="cls_022"><span class="cls_022">Daily infections in Top 6 countries</span></div>
<div style="position:absolute;left:48.33px;top:1152.53px" class="cls_018"><span class="cls_018">aux 1=aux i[aux i.Date>"20-02-2020"]</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:800.95px;top:1165.88px" class="cls_002"><span class="cls_002">2/19</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-421px;top:2411px;width:842px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background04.jpg" width=842 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:387.03px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:48.33px;top:54.42px" class="cls_018"><span class="cls_018">aux_2=aux_i[aux_i.Date>"18-04-2020"]</span></div>
<div style="position:absolute;left:48.33px;top:67.53px" class="cls_018"><span class="cls_018">fig = px.bar (aux_2, x= "Date", y = "Count", color="CCAA", title= "Daily infections in Spain (Top 6)")</span></div>
<div style="position:absolute;left:48.33px;top:80.65px" class="cls_018"><span class="cls_018">fig.show()</span></div>
<div style="position:absolute;left:112.00px;top:128.96px" class="cls_020"><span class="cls_020">Daily infections in Spain (Top 6)</span></div>
<div style="position:absolute;left:691.70px;top:180.16px" class="cls_019"><span class="cls_019">CCAA=Madrid</span></div>
<div style="position:absolute;left:691.70px;top:193.27px" class="cls_019"><span class="cls_019">CCAA=Cataluña</span></div>
<div style="position:absolute;left:108.71px;top:204.72px" class="cls_019"><span class="cls_019">2500</span></div>
<div style="position:absolute;left:691.70px;top:206.39px" class="cls_019"><span class="cls_019">CCAA=Andalucia</span></div>
<div style="position:absolute;left:691.70px;top:219.50px" class="cls_019"><span class="cls_019">CCAA=Castilla La Mancha</span></div>
<div style="position:absolute;left:691.70px;top:232.61px" class="cls_019"><span class="cls_019">CCAA=Castilla y Leon</span></div>
<div style="position:absolute;left:108.71px;top:241.57px" class="cls_019"><span class="cls_019">2000</span></div>
<div style="position:absolute;left:691.70px;top:245.73px" class="cls_019"><span class="cls_019">CCAA=País Vasco</span></div>
<div style="position:absolute;left:108.71px;top:278.42px" class="cls_019"><span class="cls_019">1500</span></div>
<div style="position:absolute;left:108.71px;top:315.27px" class="cls_019"><span class="cls_019">1000</span></div>
<div style="position:absolute;left:113.97px;top:352.11px" class="cls_019"><span class="cls_019">500</span></div>
<div style="position:absolute;left:124.50px;top:388.96px" class="cls_019"><span class="cls_019">0</span></div>
<div style="position:absolute;left:124.73px;top:414.01px" class="cls_019"><span class="cls_019">Apr 19</span></div>
<div style="position:absolute;left:239.18px;top:414.01px" class="cls_019"><span class="cls_019">Apr 26</span></div>
<div style="position:absolute;left:355.04px;top:414.01px" class="cls_019"><span class="cls_019">May 3</span></div>
<div style="position:absolute;left:466.85px;top:414.01px" class="cls_019"><span class="cls_019">May 10</span></div>
<div style="position:absolute;left:581.29px;top:414.01px" class="cls_019"><span class="cls_019">May 17</span></div>
<div style="position:absolute;left:128.10px;top:424.78px" class="cls_019"><span class="cls_019">2020</span></div>
<div style="position:absolute;left:380.64px;top:442.59px" class="cls_021"><span class="cls_021">Date</span></div>
<div style="position:absolute;left:49.71px;top:491.32px" class="cls_022"><span class="cls_022">Daily deaths in Top 6 countries</span></div>
<div style="position:absolute;left:48.33px;top:533.42px" class="cls_018"><span class="cls_018">df_daily_fatalities = pd.DataFrame({"Date":data.Date.unique(),</span></div>
<div style="position:absolute;left:223.64px;top:546.53px" class="cls_018"><span class="cls_018">"Madrid":df_Madrid["Daily_deaths"].values,</span></div>
<div style="position:absolute;left:223.64px;top:559.65px" class="cls_018"><span class="cls_018">"Cataluña":df_Cataluña["Daily_deaths"].values,</span></div>
<div style="position:absolute;left:223.64px;top:572.76px" class="cls_018"><span class="cls_018">"Valencia":df_C_Valenciana["Daily_deaths"].values,</span></div>
<div style="position:absolute;left:223.64px;top:585.87px" class="cls_018"><span class="cls_018">"Castilla La Mancha":df_Castilla_La_Mancha["Daily_deaths"].values,</span></div>
<div style="position:absolute;left:223.64px;top:598.99px" class="cls_018"><span class="cls_018">"Castilla y Leon":df_Castilla_y_León["Daily_deaths"].values,</span></div>
<div style="position:absolute;left:223.64px;top:612.10px" class="cls_018"><span class="cls_018">"País Vasco":df_País_Vasco["Daily_deaths"].values})</span></div>
<div style="position:absolute;left:48.33px;top:647.30px" class="cls_018"><span class="cls_018">aux_f = df_daily_fatalities.melt(id_vars="Date", value_vars=("Madrid","Cataluña","Valencia","Castilla La Mancha","Castilla</span></div>
<div style="position:absolute;left:48.33px;top:682.50px" class="cls_018"><span class="cls_018">fig = px.line (aux_f, x= "Date", y = "Count", color="CCAA", title= "Daily Death in Spain (Top 6)")</span></div>
<div style="position:absolute;left:48.33px;top:695.62px" class="cls_018"><span class="cls_018">fig.show()</span></div>
<div style="position:absolute;left:107.79px;top:743.93px" class="cls_020"><span class="cls_020">Daily Death in Spain (Top 6)</span></div>
<div style="position:absolute;left:113.97px;top:793.59px" class="cls_019"><span class="cls_019">350</span></div>
<div style="position:absolute;left:607.22px;top:795.13px" class="cls_019"><span class="cls_019">CCAA=Madrid</span></div>
<div style="position:absolute;left:607.22px;top:808.24px" class="cls_019"><span class="cls_019">CCAA=Cataluña</span></div>
<div style="position:absolute;left:607.22px;top:821.36px" class="cls_019"><span class="cls_019">CCAA=Valencia</span></div>
<div style="position:absolute;left:113.97px;top:824.65px" class="cls_019"><span class="cls_019">300</span></div>
<div style="position:absolute;left:607.22px;top:834.47px" class="cls_019"><span class="cls_019">CCAA=Castilla La Mancha</span></div>
<div style="position:absolute;left:607.22px;top:847.58px" class="cls_019"><span class="cls_019">CCAA=Castilla y Leon</span></div>
<div style="position:absolute;left:113.97px;top:855.71px" class="cls_019"><span class="cls_019">250</span></div>
<div style="position:absolute;left:607.22px;top:860.70px" class="cls_019"><span class="cls_019">CCAA=País Vasco</span></div>
<div style="position:absolute;left:113.97px;top:886.77px" class="cls_019"><span class="cls_019">200</span></div>
<div style="position:absolute;left:113.97px;top:917.83px" class="cls_019"><span class="cls_019">150</span></div>
<div style="position:absolute;left:113.97px;top:948.89px" class="cls_019"><span class="cls_019">100</span></div>
<div style="position:absolute;left:119.24px;top:979.94px" class="cls_019"><span class="cls_019">50</span></div>
<div style="position:absolute;left:124.50px;top:1011.00px" class="cls_019"><span class="cls_019">0</span></div>
<div style="position:absolute;left:167.55px;top:1028.98px" class="cls_019"><span class="cls_019">Mar 1</span></div>
<div style="position:absolute;left:233.42px;top:1028.98px" class="cls_019"><span class="cls_019">Mar 15</span></div>
<div style="position:absolute;left:301.92px;top:1028.98px" class="cls_019"><span class="cls_019">Mar 29</span></div>
<div style="position:absolute;left:370.98px;top:1028.98px" class="cls_019"><span class="cls_019">Apr 12</span></div>
<div style="position:absolute;left:439.48px;top:1028.98px" class="cls_019"><span class="cls_019">Apr 26</span></div>
<div style="position:absolute;left:506.76px;top:1028.98px" class="cls_019"><span class="cls_019">May 10</span></div>
<div style="position:absolute;left:168.86px;top:1039.75px" class="cls_019"><span class="cls_019">2020</span></div>
<div style="position:absolute;left:339.23px;top:1057.56px" class="cls_021"><span class="cls_021">Date</span></div>
<div style="position:absolute;left:48.33px;top:1105.60px" class="cls_018"><span class="cls_018">fig = px.bar (aux_f, x= "Date", y = "Count", color="CCAA", title= "Daily Deaths in Spain (Top 6)")</span></div>
<div style="position:absolute;left:48.33px;top:1118.71px" class="cls_018"><span class="cls_018">fig.show()</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:800.95px;top:1165.88px" class="cls_002"><span class="cls_002">3/19</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-421px;top:3612px;width:842px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background05.jpg" width=842 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:387.03px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:107.79px;top:56.49px" class="cls_020"><span class="cls_020">Daily Deaths in Spain (Top 6)</span></div>
<div style="position:absolute;left:607.22px;top:107.69px" class="cls_019"><span class="cls_019">CCAA=Madrid</span></div>
<div style="position:absolute;left:113.97px;top:121.19px" class="cls_019"><span class="cls_019">700</span></div>
<div style="position:absolute;left:607.22px;top:120.80px" class="cls_019"><span class="cls_019">CCAA=Cataluña</span></div>
<div style="position:absolute;left:607.22px;top:133.91px" class="cls_019"><span class="cls_019">CCAA=Valencia</span></div>
<div style="position:absolute;left:607.22px;top:147.03px" class="cls_019"><span class="cls_019">CCAA=Castilla La Mancha</span></div>
<div style="position:absolute;left:113.97px;top:151.80px" class="cls_019"><span class="cls_019">600</span></div>
<div style="position:absolute;left:607.22px;top:160.14px" class="cls_019"><span class="cls_019">CCAA=Castilla y Leon</span></div>
<div style="position:absolute;left:607.22px;top:173.26px" class="cls_019"><span class="cls_019">CCAA=País Vasco</span></div>
<div style="position:absolute;left:113.97px;top:182.42px" class="cls_019"><span class="cls_019">500</span></div>
<div style="position:absolute;left:113.97px;top:213.03px" class="cls_019"><span class="cls_019">400</span></div>
<div style="position:absolute;left:113.97px;top:243.64px" class="cls_019"><span class="cls_019">300</span></div>
<div style="position:absolute;left:113.97px;top:274.25px" class="cls_019"><span class="cls_019">200</span></div>
<div style="position:absolute;left:113.97px;top:304.86px" class="cls_019"><span class="cls_019">100</span></div>
<div style="position:absolute;left:124.50px;top:335.47px" class="cls_019"><span class="cls_019">0</span></div>
<div style="position:absolute;left:169.44px;top:341.54px" class="cls_019"><span class="cls_019">Mar 1</span></div>
<div style="position:absolute;left:234.55px;top:341.54px" class="cls_019"><span class="cls_019">Mar 15</span></div>
<div style="position:absolute;left:302.29px;top:341.54px" class="cls_019"><span class="cls_019">Mar 29</span></div>
<div style="position:absolute;left:370.61px;top:341.54px" class="cls_019"><span class="cls_019">Apr 12</span></div>
<div style="position:absolute;left:438.35px;top:341.54px" class="cls_019"><span class="cls_019">Apr 26</span></div>
<div style="position:absolute;left:504.88px;top:341.54px" class="cls_019"><span class="cls_019">May 10</span></div>
<div style="position:absolute;left:170.74px;top:352.31px" class="cls_019"><span class="cls_019">2020</span></div>
<div style="position:absolute;left:339.23px;top:370.12px" class="cls_021"><span class="cls_021">Date</span></div>
<div style="position:absolute;left:49.71px;top:398.83px" class="cls_023"><span class="cls_023">Mapping with chloropleth</span></div>
<div style="position:absolute;left:48.33px;top:447.14px" class="cls_018"><span class="cls_018">d_name = {</span></div>
<div style="position:absolute;left:48.33px;top:460.26px" class="cls_018"><span class="cls_018">'AN':'Andalucía',</span></div>
<div style="position:absolute;left:48.33px;top:473.37px" class="cls_018"><span class="cls_018">'AR':'Aragón',</span></div>
<div style="position:absolute;left:48.33px;top:486.48px" class="cls_018"><span class="cls_018">'AS':'Asturias',</span></div>
<div style="position:absolute;left:48.33px;top:499.60px" class="cls_018"><span class="cls_018">'IB':'Baleares',</span></div>
<div style="position:absolute;left:48.33px;top:512.71px" class="cls_018"><span class="cls_018">'CN':'Canarias',</span></div>
<div style="position:absolute;left:48.33px;top:525.83px" class="cls_018"><span class="cls_018">'CB':'Cantabria',</span></div>
<div style="position:absolute;left:48.33px;top:538.94px" class="cls_018"><span class="cls_018">'CM':'Castilla La Mancha',</span></div>
<div style="position:absolute;left:48.33px;top:552.05px" class="cls_018"><span class="cls_018">'CL':'Castilla y León',</span></div>
<div style="position:absolute;left:48.33px;top:565.17px" class="cls_018"><span class="cls_018">'CT':'Cataluña',</span></div>
<div style="position:absolute;left:48.33px;top:578.28px" class="cls_018"><span class="cls_018">'CE':'Ceuta',</span></div>
<div style="position:absolute;left:48.33px;top:591.39px" class="cls_018"><span class="cls_018">'VC':'C. Valenciana',</span></div>
<div style="position:absolute;left:48.33px;top:604.51px" class="cls_018"><span class="cls_018">'EX':'Extremadura',</span></div>
<div style="position:absolute;left:48.33px;top:617.62px" class="cls_018"><span class="cls_018">'GA':'Galicia',</span></div>
<div style="position:absolute;left:48.33px;top:630.74px" class="cls_018"><span class="cls_018">'MD':'Madrid',</span></div>
<div style="position:absolute;left:48.33px;top:643.85px" class="cls_018"><span class="cls_018">'ML':'Melilla',</span></div>
<div style="position:absolute;left:48.33px;top:656.96px" class="cls_018"><span class="cls_018">'MC':'Murcia',</span></div>
<div style="position:absolute;left:48.33px;top:670.08px" class="cls_018"><span class="cls_018">'NC':'Navarra',</span></div>
<div style="position:absolute;left:48.33px;top:683.19px" class="cls_018"><span class="cls_018">'PV':'País Vasco',</span></div>
<div style="position:absolute;left:48.33px;top:696.31px" class="cls_018"><span class="cls_018">'RI':'La Rioja'</span></div>
<div style="position:absolute;left:48.33px;top:709.42px" class="cls_018"><span class="cls_018">}</span></div>
<div style="position:absolute;left:48.33px;top:744.62px" class="cls_018"><span class="cls_018">d_ccaa = {</span></div>
<div style="position:absolute;left:48.33px;top:757.73px" class="cls_018"><span class="cls_018">'Andalucía': 'Andalucía',</span></div>
<div style="position:absolute;left:48.33px;top:770.85px" class="cls_018"><span class="cls_018">'Aragón': 'Aragón',</span></div>
<div style="position:absolute;left:48.33px;top:783.96px" class="cls_018"><span class="cls_018">'Asturias': 'Principado de Asturias',</span></div>
<div style="position:absolute;left:48.33px;top:797.08px" class="cls_018"><span class="cls_018">'Baleares': 'Islas Baleares',</span></div>
<div style="position:absolute;left:48.33px;top:810.19px" class="cls_018"><span class="cls_018">'Canarias': 'Islas Canarias',</span></div>
<div style="position:absolute;left:48.33px;top:823.30px" class="cls_018"><span class="cls_018">'Cantabria':'Cantabria',</span></div>
<div style="position:absolute;left:48.33px;top:836.42px" class="cls_018"><span class="cls_018">'Castilla La Mancha': 'Castilla-La Mancha',</span></div>
<div style="position:absolute;left:48.33px;top:849.53px" class="cls_018"><span class="cls_018">'Castilla y León': 'Castilla y León',</span></div>
<div style="position:absolute;left:48.33px;top:862.64px" class="cls_018"><span class="cls_018">'Cataluña': 'Cataluña',</span></div>
<div style="position:absolute;left:48.33px;top:875.76px" class="cls_018"><span class="cls_018">'Ceuta': 'Ceuta y Melilla',</span></div>
<div style="position:absolute;left:48.33px;top:888.87px" class="cls_018"><span class="cls_018">'C. Valenciana': 'Comunidad Valenciana',</span></div>
<div style="position:absolute;left:48.33px;top:901.99px" class="cls_018"><span class="cls_018">'Extremadura': 'Extremadura',</span></div>
<div style="position:absolute;left:48.33px;top:915.10px" class="cls_018"><span class="cls_018">'Galicia': 'Galicia',</span></div>
<div style="position:absolute;left:48.33px;top:928.21px" class="cls_018"><span class="cls_018">'Madrid': 'Comunidad de Madrid',</span></div>
<div style="position:absolute;left:48.33px;top:941.33px" class="cls_018"><span class="cls_018">'Melilla': 'Ceuta y Melilla',</span></div>
<div style="position:absolute;left:48.33px;top:954.44px" class="cls_018"><span class="cls_018">'Murcia': 'Región de Murcia',</span></div>
<div style="position:absolute;left:48.33px;top:967.55px" class="cls_018"><span class="cls_018">'Navarra': 'Comunidad Foral de Navarra',</span></div>
<div style="position:absolute;left:48.33px;top:980.67px" class="cls_018"><span class="cls_018">'País Vasco': 'País Vasco',</span></div>
<div style="position:absolute;left:48.33px;top:993.78px" class="cls_018"><span class="cls_018">'La Rioja': 'La Rioja'</span></div>
<div style="position:absolute;left:48.33px;top:1006.90px" class="cls_018"><span class="cls_018">}</span></div>
<div style="position:absolute;left:48.33px;top:1042.10px" class="cls_018"><span class="cls_018">d_ccaa_id = {</span></div>
<div style="position:absolute;left:48.33px;top:1055.21px" class="cls_018"><span class="cls_018">'Andalucía': "1",</span></div>
<div style="position:absolute;left:48.33px;top:1068.32px" class="cls_018"><span class="cls_018">'Aragón' : "2",</span></div>
<div style="position:absolute;left:48.33px;top:1081.44px" class="cls_018"><span class="cls_018">'Principado de Asturias': "3",</span></div>
<div style="position:absolute;left:48.33px;top:1094.55px" class="cls_018"><span class="cls_018">'Islas Baleares': "4",</span></div>
<div style="position:absolute;left:48.33px;top:1107.67px" class="cls_018"><span class="cls_018">'Islas Canarias': "5",</span></div>
<div style="position:absolute;left:48.33px;top:1120.78px" class="cls_018"><span class="cls_018">'Cantabria': "6",</span></div>
<div style="position:absolute;left:48.33px;top:1133.89px" class="cls_018"><span class="cls_018">'Castilla-La Mancha': "7",</span></div>
<div style="position:absolute;left:48.33px;top:1147.01px" class="cls_018"><span class="cls_018">'Castilla y León': "8",</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:800.95px;top:1165.88px" class="cls_002"><span class="cls_002">4/19</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:4813px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background06.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:50.01px;top:25.88px" class="cls_024"><span class="cls_024">'Asturias': 'Principado de Asturias',</span></div>
<div style="position:absolute;left:50.01px;top:40.14px" class="cls_024"><span class="cls_024">'Baleares': 'Islas Baleares',</span></div>
<div style="position:absolute;left:50.01px;top:54.40px" class="cls_024"><span class="cls_024">'Canarias': 'Islas Canarias',</span></div>
<div style="position:absolute;left:50.01px;top:68.66px" class="cls_024"><span class="cls_024">'Cantabria':'Cantabria',</span></div>
<div style="position:absolute;left:50.01px;top:82.91px" class="cls_024"><span class="cls_024">'Castilla La Mancha': 'Castilla-La Mancha',</span></div>
<div style="position:absolute;left:50.01px;top:97.17px" class="cls_024"><span class="cls_024">'Castilla y León': 'Castilla y León',</span></div>
<div style="position:absolute;left:50.01px;top:111.43px" class="cls_024"><span class="cls_024">'Cataluña': 'Cataluña',</span></div>
<div style="position:absolute;left:50.01px;top:125.69px" class="cls_024"><span class="cls_024">'Ceuta': 'Ceuta y Melilla',</span></div>
<div style="position:absolute;left:50.01px;top:139.95px" class="cls_024"><span class="cls_024">'C. Valenciana': 'Comunidad Valenciana',</span></div>
<div style="position:absolute;left:50.01px;top:154.21px" class="cls_024"><span class="cls_024">'Extremadura': 'Extremadura',</span></div>
<div style="position:absolute;left:50.01px;top:168.47px" class="cls_024"><span class="cls_024">'Galicia': 'Galicia',</span></div>
<div style="position:absolute;left:50.01px;top:182.73px" class="cls_024"><span class="cls_024">'Madrid': 'Comunidad de Madrid',</span></div>
<div style="position:absolute;left:50.01px;top:196.99px" class="cls_024"><span class="cls_024">'Melilla': 'Ceuta y Melilla',</span></div>
<div style="position:absolute;left:50.01px;top:211.25px" class="cls_024"><span class="cls_024">'Murcia': 'Región de Murcia',</span></div>
<div style="position:absolute;left:50.01px;top:225.51px" class="cls_024"><span class="cls_024">'Navarra': 'Comunidad Foral de Navarra',</span></div>
<div style="position:absolute;left:50.01px;top:239.76px" class="cls_024"><span class="cls_024">'País Vasco': 'País Vasco',</span></div>
<div style="position:absolute;left:50.01px;top:254.02px" class="cls_024"><span class="cls_024">'La Rioja': 'La Rioja'</span></div>
<div style="position:absolute;left:50.01px;top:268.28px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:50.01px;top:306.56px" class="cls_024"><span class="cls_024">d_ccaa_id = {</span></div>
<div style="position:absolute;left:50.01px;top:320.82px" class="cls_024"><span class="cls_024">'Andalucía': "1",</span></div>
<div style="position:absolute;left:50.01px;top:335.08px" class="cls_024"><span class="cls_024">'Aragón' : "2",</span></div>
<div style="position:absolute;left:50.01px;top:349.33px" class="cls_024"><span class="cls_024">'Principado de Asturias': "3",</span></div>
<div style="position:absolute;left:50.01px;top:363.59px" class="cls_024"><span class="cls_024">'Islas Baleares': "4",</span></div>
<div style="position:absolute;left:50.01px;top:377.85px" class="cls_024"><span class="cls_024">'Islas Canarias': "5",</span></div>
<div style="position:absolute;left:50.01px;top:392.11px" class="cls_024"><span class="cls_024">'Cantabria': "6",</span></div>
<div style="position:absolute;left:50.01px;top:406.37px" class="cls_024"><span class="cls_024">'Castilla-La Mancha': "7",</span></div>
<div style="position:absolute;left:50.01px;top:420.63px" class="cls_024"><span class="cls_024">'Castilla y León': "8",</span></div>
<div style="position:absolute;left:50.01px;top:434.89px" class="cls_024"><span class="cls_024">'Cataluña': "9",</span></div>
<div style="position:absolute;left:50.01px;top:449.15px" class="cls_024"><span class="cls_024">'Ceuta y Melilla': "10",</span></div>
<div style="position:absolute;left:50.01px;top:463.41px" class="cls_024"><span class="cls_024">'Comunidad Valenciana': "11",</span></div>
<div style="position:absolute;left:50.01px;top:477.67px" class="cls_024"><span class="cls_024">'Extremadura': "12",</span></div>
<div style="position:absolute;left:50.01px;top:491.92px" class="cls_024"><span class="cls_024">'Galicia': "13",</span></div>
<div style="position:absolute;left:50.01px;top:506.18px" class="cls_024"><span class="cls_024">'Comunidad de Madrid' : "14",</span></div>
<div style="position:absolute;left:50.01px;top:520.44px" class="cls_024"><span class="cls_024">'Ceuta y Melilla': "15",</span></div>
<div style="position:absolute;left:50.01px;top:534.70px" class="cls_024"><span class="cls_024">'Región de Murcia': "16",</span></div>
<div style="position:absolute;left:50.01px;top:548.96px" class="cls_024"><span class="cls_024">'Comunidad Foral de Navarra': "17",</span></div>
<div style="position:absolute;left:50.01px;top:563.22px" class="cls_024"><span class="cls_024">'País Vasco': "18",</span></div>
<div style="position:absolute;left:50.01px;top:577.48px" class="cls_024"><span class="cls_024">'La Rioja': "19"</span></div>
<div style="position:absolute;left:50.01px;top:591.74px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:50.01px;top:644.27px" class="cls_024"><span class="cls_024">d_ccaa_population = {</span></div>
<div style="position:absolute;left:50.01px;top:658.53px" class="cls_024"><span class="cls_024">'Andalucía': 8414240,</span></div>
<div style="position:absolute;left:50.01px;top:672.79px" class="cls_024"><span class="cls_024">'Aragón' : 1319291,</span></div>
<div style="position:absolute;left:50.01px;top:687.05px" class="cls_024"><span class="cls_024">'Principado de Asturias': 1022800,</span></div>
<div style="position:absolute;left:50.01px;top:701.31px" class="cls_024"><span class="cls_024">'Islas Baleares': 1149460,</span></div>
<div style="position:absolute;left:50.01px;top:715.57px" class="cls_024"><span class="cls_024">'Islas Canarias': 2153389,</span></div>
<div style="position:absolute;left:50.01px;top:729.83px" class="cls_024"><span class="cls_024">'Cantabria': 581078,</span></div>
<div style="position:absolute;left:50.01px;top:744.09px" class="cls_024"><span class="cls_024">'Castilla-La Mancha': 2032863,</span></div>
<div style="position:absolute;left:50.01px;top:758.34px" class="cls_024"><span class="cls_024">'Castilla y León': 2399548,</span></div>
<div style="position:absolute;left:50.01px;top:772.60px" class="cls_024"><span class="cls_024">'Cataluña': 7675217,</span></div>
<div style="position:absolute;left:50.01px;top:786.86px" class="cls_024"><span class="cls_024">'Ceuta y Melilla': 171264,</span></div>
<div style="position:absolute;left:50.01px;top:801.12px" class="cls_024"><span class="cls_024">'Comunidad Valenciana': 5003769,</span></div>
<div style="position:absolute;left:50.01px;top:815.38px" class="cls_024"><span class="cls_024">'Extremadura': 1067710,</span></div>
<div style="position:absolute;left:50.01px;top:829.64px" class="cls_024"><span class="cls_024">'Galicia': 2699499,</span></div>
<div style="position:absolute;left:50.01px;top:843.90px" class="cls_024"><span class="cls_024">'Comunidad de Madrid' : 6663394,</span></div>
<div style="position:absolute;left:50.01px;top:858.16px" class="cls_024"><span class="cls_024">'Ceuta y Melilla': 171264,</span></div>
<div style="position:absolute;left:50.01px;top:872.42px" class="cls_024"><span class="cls_024">'Región de Murcia': 1493898,</span></div>
<div style="position:absolute;left:50.01px;top:886.68px" class="cls_024"><span class="cls_024">'Comunidad Foral de Navarra': 654214,</span></div>
<div style="position:absolute;left:50.01px;top:900.94px" class="cls_024"><span class="cls_024">'País Vasco': 2207776,</span></div>
<div style="position:absolute;left:50.01px;top:915.19px" class="cls_024"><span class="cls_024">'La Rioja': 316798</span></div>
<div style="position:absolute;left:50.01px;top:929.45px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:50.01px;top:967.73px" class="cls_024"><span class="cls_024">def get_hex_colors(df, data_to_color, cmap = matplotlib.cm.Reds, log = False):</span></div>
<div style="position:absolute;left:73.11px;top:996.25px" class="cls_024"><span class="cls_024">'''</span></div>
<div style="position:absolute;left:73.12px;top:1010.51px" class="cls_024"><span class="cls_024">This function takes the following arguments</span></div>
<div style="position:absolute;left:96.23px;top:1024.76px" class="cls_024"><span class="cls_024">1. df:pandas DataFrame with the data.</span></div>
<div style="position:absolute;left:96.23px;top:1039.02px" class="cls_024"><span class="cls_024">2. data_to_color: the column name with data based on which we want to create the color scale.</span></div>
<div style="position:absolute;left:96.23px;top:1053.28px" class="cls_024"><span class="cls_024">3. cmap: colors you want to plot. You can use this to communicate different messages. For example: greens --> good</span></div>
<div style="position:absolute;left:142.44px;top:1067.54px" class="cls_024"><span class="cls_024">default is matplotlib.cm.Reds</span></div>
<div style="position:absolute;left:142.44px;top:1081.80px" class="cls_024"><span class="cls_024">more about colormaps: </span><A HREF="https://matplotlib.org/3.1.1/gallery/color/colormap_reference.html">https://matplotlib.org/3.1.1/gallery/color/colormap_reference.html</A> </span></div>
<div style="position:absolute;left:96.23px;top:1096.06px" class="cls_024"><span class="cls_024">3. log: if data has huge outliers, we can create the color map with a logarithic normalization. This way, the outl</span></div>
<div style="position:absolute;left:142.44px;top:1110.32px" class="cls_024"><span class="cls_024">default is False.</span></div>
<div style="position:absolute;left:73.12px;top:1138.84px" class="cls_024"><span class="cls_024">'''</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:799.95px;top:1165.88px" class="cls_002"><span class="cls_002">5/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:6014px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background07.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:73.12px;top:33.38px" class="cls_024"><span class="cls_024">cmap = cmap # define the color pallete you want. You can use Reds, Blues, Greens etc</span></div>
<div style="position:absolute;left:73.12px;top:47.64px" class="cls_024"><span class="cls_024">my_values = df[data_to_color] # get the value you wan to convert to colors</span></div>
<div style="position:absolute;left:73.12px;top:76.16px" class="cls_024"><span class="cls_024">mini = min(my_values) # get the min to normalize</span></div>
<div style="position:absolute;left:73.12px;top:90.42px" class="cls_024"><span class="cls_024">maxi= max(my_values) # get the max to normalize</span></div>
<div style="position:absolute;left:73.12px;top:118.94px" class="cls_024"><span class="cls_024">LOGMIN = 0.01 # arbitrary lower bound for log scale</span></div>
<div style="position:absolute;left:73.11px;top:147.46px" class="cls_024"><span class="cls_024">if log:</span></div>
<div style="position:absolute;left:96.23px;top:161.71px" class="cls_024"><span class="cls_024">norm = matplotlib.colors.LogNorm(vmin=max(mini,LOGMIN), vmax=maxi) # normalize log data</span></div>
<div style="position:absolute;left:73.11px;top:175.97px" class="cls_024"><span class="cls_024">else:</span></div>
<div style="position:absolute;left:96.23px;top:190.23px" class="cls_024"><span class="cls_024">norm = matplotlib.colors.Normalize(vmin=mini, vmax=maxi) # create a color range</span></div>
<div style="position:absolute;left:73.12px;top:218.75px" class="cls_024"><span class="cls_024">colors = {value:matplotlib.colors.rgb2hex(cmap(norm(value))[:3]) for value in sorted(list(set(my_values)))} # create a</span></div>
<div style="position:absolute;left:73.11px;top:247.27px" class="cls_024"><span class="cls_024">return colors</span></div>
<div style="position:absolute;left:50.01px;top:285.54px" class="cls_024"><span class="cls_024">def get_hex_colors_2(value, cats):</span></div>
<div style="position:absolute;left:73.11px;top:299.80px" class="cls_024"><span class="cls_024">'''</span></div>
<div style="position:absolute;left:73.12px;top:314.06px" class="cls_024"><span class="cls_024">Color paletter used from this website:</span></div>
<div style="position:absolute;left:73.11px;top:342.58px" class="cls_050"><span class="cls_050"> </span><A HREF="https://colorbrewer2.org/#type=sequential&scheme=reds&n=9/">https://colorbrewer2.org/#type=sequential&scheme=Reds&n=9</A> </div>
<div style="position:absolute;left:73.12px;top:371.10px" class="cls_024"><span class="cls_024">The color selection will be based on the percentile each value is in.</span></div>
<div style="position:absolute;left:73.12px;top:385.36px" class="cls_024"><span class="cls_024">'''</span></div>
<div style="position:absolute;left:73.11px;top:399.62px" class="cls_024"><span class="cls_024">if value == 0:</span></div>
<div style="position:absolute;left:96.23px;top:413.88px" class="cls_024"><span class="cls_024">return "#FFFFFF"</span></div>
<div style="position:absolute;left:73.11px;top:428.13px" class="cls_024"><span class="cls_024">elif value in cats[0]:</span></div>
<div style="position:absolute;left:96.23px;top:442.39px" class="cls_024"><span class="cls_024">return "#fff5f0"</span></div>
<div style="position:absolute;left:73.11px;top:456.65px" class="cls_024"><span class="cls_024">elif value in cats[1]:</span></div>
<div style="position:absolute;left:96.23px;top:470.91px" class="cls_024"><span class="cls_024">return "#fee0d2"</span></div>
<div style="position:absolute;left:73.11px;top:485.17px" class="cls_024"><span class="cls_024">elif value in cats[2]:</span></div>
<div style="position:absolute;left:96.23px;top:499.43px" class="cls_024"><span class="cls_024">return "#fcbba1"</span></div>
<div style="position:absolute;left:73.11px;top:513.69px" class="cls_024"><span class="cls_024">elif value in cats[3]:</span></div>
<div style="position:absolute;left:96.23px;top:527.95px" class="cls_024"><span class="cls_024">return "#fc9272"</span></div>
<div style="position:absolute;left:73.11px;top:542.21px" class="cls_024"><span class="cls_024">elif value in cats[4]:</span></div>
<div style="position:absolute;left:96.23px;top:556.47px" class="cls_024"><span class="cls_024">return "#fb6a4a"</span></div>
<div style="position:absolute;left:73.11px;top:570.73px" class="cls_024"><span class="cls_024">elif value in cats[5]:</span></div>
<div style="position:absolute;left:96.23px;top:584.98px" class="cls_024"><span class="cls_024">return "#ef3b2c"</span></div>
<div style="position:absolute;left:73.11px;top:599.24px" class="cls_024"><span class="cls_024">elif value in cats[6]:</span></div>
<div style="position:absolute;left:96.23px;top:613.50px" class="cls_024"><span class="cls_024">return "#cb181d"</span></div>
<div style="position:absolute;left:73.11px;top:627.76px" class="cls_024"><span class="cls_024">elif value in cats[7]:</span></div>
<div style="position:absolute;left:96.23px;top:642.02px" class="cls_024"><span class="cls_024">return "#a50f15"</span></div>
<div style="position:absolute;left:73.11px;top:656.28px" class="cls_024"><span class="cls_024">elif value in cats[8]:</span></div>
<div style="position:absolute;left:96.23px;top:670.54px" class="cls_024"><span class="cls_024">return "#67000d"</span></div>
<div style="position:absolute;left:73.11px;top:684.80px" class="cls_024"><span class="cls_024">else:</span></div>
<div style="position:absolute;left:96.23px;top:699.06px" class="cls_024"><span class="cls_024">return "#000000"</span></div>
<div style="position:absolute;left:50.01px;top:737.33px" class="cls_024"><span class="cls_024">df = pd.read_csv("</span><span class="cls_050">https://covid19.isciii.es/resources/serie_historica_acumulados.csv</span><span class="cls_024">",delimiter=",", encoding="latin1", sk</span></div>
<div style="position:absolute;left:50.01px;top:775.61px" class="cls_024"><span class="cls_024">df.rename(columns = {"FECHA":"DATE",</span></div>
<div style="position:absolute;left:165.54px;top:789.86px" class="cls_024"><span class="cls_024">"CASOS":"CASES",</span></div>
<div style="position:absolute;left:171.32px;top:804.12px" class="cls_024"><span class="cls_024">"PCR+":"TOTAL_INFECTED",</span></div>
<div style="position:absolute;left:165.54px;top:818.38px" class="cls_024"><span class="cls_024">"Hospitalizados":"REQUIERED_HOSPITALIZATION",</span></div>
<div style="position:absolute;left:165.54px;top:832.64px" class="cls_024"><span class="cls_024">"UCI":"REQUIERED_ADVANCED_CARE",</span></div>
<div style="position:absolute;left:165.54px;top:846.90px" class="cls_024"><span class="cls_024">"Fallecidos":"TOTAL_DEATHS"}, inplace = True)</span></div>
<div style="position:absolute;left:50.01px;top:875.42px" class="cls_024"><span class="cls_024">df.fillna(0, inplace = True)</span></div>
<div style="position:absolute;left:50.01px;top:889.68px" class="cls_024"><span class="cls_024">df["CCAA"] = df["CCAA"].map(d_name)</span></div>
<div style="position:absolute;left:50.01px;top:903.94px" class="cls_024"><span class="cls_024">df["CCAA_for_Folium"] = df["CCAA"].map(d_ccaa)</span></div>
<div style="position:absolute;left:50.01px;top:918.20px" class="cls_024"><span class="cls_024">df["id"] = df["CCAA_for_Folium"].map(d_ccaa_id)</span></div>
<div style="position:absolute;left:50.01px;top:946.71px" class="cls_024"><span class="cls_024">df["Population"] = df["CCAA_for_Folium"].map(d_ccaa_population)</span></div>
<div style="position:absolute;left:50.01px;top:999.25px" class="cls_024"><span class="cls_024">df["CCAA"].isnull().sum()</span></div>
<div style="position:absolute;left:79.28px;top:1026.27px" class="cls_024"><span class="cls_024">0</span></div>
<div style="position:absolute;left:50.01px;top:1063.79px" class="cls_024"><span class="cls_024">def correct_date(date_str):</span></div>
<div style="position:absolute;left:73.12px;top:1078.05px" class="cls_024"><span class="cls_024">list_dates = date_str.split("/")</span></div>
<div style="position:absolute;left:73.12px;top:1092.31px" class="cls_024"><span class="cls_024">day = list_dates[0]</span></div>
<div style="position:absolute;left:73.12px;top:1106.57px" class="cls_024"><span class="cls_024">month = list_dates[1]</span></div>
<div style="position:absolute;left:73.12px;top:1120.83px" class="cls_024"><span class="cls_024">year = list_dates[2]</span></div>
<div style="position:absolute;left:73.11px;top:1149.34px" class="cls_024"><span class="cls_024">if len(day) == 1:</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:799.95px;top:1165.88px" class="cls_002"><span class="cls_002">6/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:7215px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background08.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:96.23px;top:29.63px" class="cls_024"><span class="cls_024">day = "0" + day</span></div>
<div style="position:absolute;left:73.11px;top:43.89px" class="cls_024"><span class="cls_024">if len(month) == 1:</span></div>
<div style="position:absolute;left:96.23px;top:58.15px" class="cls_024"><span class="cls_024">month = "0" + month</span></div>
<div style="position:absolute;left:73.11px;top:86.67px" class="cls_024"><span class="cls_024">return "/".join([day, month, year])</span></div>
<div style="position:absolute;left:50.01px;top:124.94px" class="cls_024"><span class="cls_024">df["NEW_DATE"] = df["DATE"].apply(correct_date)</span></div>
<div style="position:absolute;left:50.01px;top:163.22px" class="cls_024"><span class="cls_024">df["DATE"] = pd.to_datetime(df["NEW_DATE"], format='%d/%m/%Y')</span></div>
<div style="position:absolute;left:50.01px;top:191.73px" class="cls_024"><span class="cls_024">df["DATE_for_Folium"] = (df["DATE"].astype(int)// 10**9).astype('U10')</span></div>
<div style="position:absolute;left:50.01px;top:220.25px" class="cls_024"><span class="cls_024">df = df[["id", "CCAA", "CCAA_for_Folium", "DATE", "DATE_for_Folium", "TOTAL_INFECTED", "REQUIERED_HOSPITALIZATION", "REQUI</span></div>
<div style="position:absolute;left:50.01px;top:234.51px" class="cls_024"><span class="cls_024">df["id"].astype(np.int16)</span></div>
<div style="position:absolute;left:50.01px;top:248.77px" class="cls_024"><span class="cls_024">df.head()</span></div>
<div style="position:absolute;left:50.01px;top:287.04px" class="cls_024"><span class="cls_024">PATH_GEO_JSON = 'shapefiles_ccaa_espana.geojson'</span></div>
<div style="position:absolute;left:50.01px;top:301.30px" class="cls_024"><span class="cls_024">gdf = gpd.read_file(PATH_GEO_JSON)</span></div>
<div style="position:absolute;left:50.01px;top:315.56px" class="cls_024"><span class="cls_024">gdf["id"] = gdf["name_1"].map(d_ccaa_id) # create a numerical id for each ccaa</span></div>
<div style="position:absolute;left:50.01px;top:329.82px" class="cls_024"><span class="cls_024">gdf = gdf[["id", "shape_leng","shape_area","geometry"]] # extract the id and the geometry (coordinates of each ccaa)</span></div>
<div style="position:absolute;left:50.01px;top:344.08px" class="cls_024"><span class="cls_024">gdf["geometry"] = gdf["geometry"].simplify(0.1, preserve_topology = False)</span></div>
<div style="position:absolute;left:50.01px;top:358.34px" class="cls_024"><span class="cls_024">gdf["id"].astype(int)</span></div>
<div style="position:absolute;left:50.01px;top:372.60px" class="cls_024"><span class="cls_024">gdf.head()</span></div>
<div style="position:absolute;left:51.51px;top:414.63px" class="cls_025"><span class="cls_025">Infections</span></div>
<div style="position:absolute;left:50.01px;top:467.16px" class="cls_024"><span class="cls_024">m = folium.Map(location = (40, 0), zoom_start = 5.5)</span></div>
<div style="position:absolute;left:50.01px;top:495.68px" class="cls_024"><span class="cls_024">folium.Choropleth(</span></div>
<div style="position:absolute;left:73.12px;top:509.94px" class="cls_024"><span class="cls_024">geo_data = gdf,</span></div>
<div style="position:absolute;left:73.12px;top:524.20px" class="cls_024"><span class="cls_024">name = 'choropleth',</span></div>
<div style="position:absolute;left:73.12px;top:538.45px" class="cls_024"><span class="cls_024">data = df[df["DATE"] == max(df["DATE"])],</span></div>
<div style="position:absolute;left:73.12px;top:552.71px" class="cls_024"><span class="cls_024">columns = ['id', 'TOTAL_INFECTED'],</span></div>
<div style="position:absolute;left:73.12px;top:566.97px" class="cls_024"><span class="cls_024">key_on='feature.properties.id',</span></div>
<div style="position:absolute;left:73.12px;top:581.23px" class="cls_024"><span class="cls_024">fill_color='RdPu',</span></div>
<div style="position:absolute;left:73.12px;top:595.49px" class="cls_024"><span class="cls_024">fill_opacity=0.7,</span></div>
<div style="position:absolute;left:73.12px;top:609.75px" class="cls_024"><span class="cls_024">line_opacity=0.2,</span></div>
<div style="position:absolute;left:73.12px;top:624.01px" class="cls_024"><span class="cls_024">legend_name = 'Total infected cases in Spain by region'</span></div>
<div style="position:absolute;left:50.01px;top:638.27px" class="cls_024"><span class="cls_024">).add_to(m)</span></div>
<div style="position:absolute;left:50.01px;top:666.79px" class="cls_024"><span class="cls_024">m</span></div>
<div style="position:absolute;left:476.28px;top:716.32px" class="cls_027"><span class="cls_027">121</span></div>
<div style="position:absolute;left:520.38px;top:716.32px" class="cls_027"><span class="cls_027">11,276</span></div>
<div style="position:absolute;left:570.08px;top:716.32px" class="cls_027"><span class="cls_027">22,430</span></div>
<div style="position:absolute;left:620.11px;top:716.32px" class="cls_027"><span class="cls_027">33,585</span></div>
<div style="position:absolute;left:670.14px;top:716.32px" class="cls_027"><span class="cls_027">44,740</span></div>
<div style="position:absolute;left:720.18px;top:716.32px" class="cls_027"><span class="cls_027">55,894</span></div>
<div style="position:absolute;left:770.21px;top:716.32px" class="cls_027"><span class="cls_027">67,049</span></div>
<div style="position:absolute;left:94.78px;top:723.62px" class="cls_028"><span class="cls_028">+</span></div>
<div style="position:absolute;left:483.79px;top:735.08px" class="cls_027"><span class="cls_027">Total infected cases in Spain by region</span></div>
<div style="position:absolute;left:94.78px;top:746.14px" class="cls_028"><span class="cls_028">−</span></div>
<div style="position:absolute;left:707.37px;top:1135.84px" class="cls_029"><span class="cls_029"> </span><A HREF="http://leafletjs.com/">Leaflet (http://leafletjs com)</A> </div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:799.95px;top:1165.88px" class="cls_002"><span class="cls_002">7/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:8416px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background09.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:50.01px;top:37.88px" class="cls_024"><span class="cls_024">g = TimeSliderChoropleth(</span></div>
<div style="position:absolute;left:73.12px;top:52.14px" class="cls_024"><span class="cls_024">gdf.set_index("id").to_json(), # get's the coordinates for each id</span></div>
<div style="position:absolute;left:73.12px;top:66.40px" class="cls_024"><span class="cls_024">styledict = styledict # styledict contains for each id the timestamp and the color to plot.</span></div>
<div style="position:absolute;left:50.01px;top:80.66px" class="cls_024"><span class="cls_024">)</span></div>
<div style="position:absolute;left:50.01px;top:109.18px" class="cls_024"><span class="cls_024">m.add_child(g)</span></div>
<div style="position:absolute;left:50.01px;top:137.70px" class="cls_024"><span class="cls_024">#--------------------------------------------------------------------------------------</span></div>
<div style="position:absolute;left:50.01px;top:151.96px" class="cls_024"><span class="cls_024"># Let's create a legend for folium</span></div>
<div style="position:absolute;left:50.01px;top:166.22px" class="cls_024"><span class="cls_024"># </span><A HREF="https://nbviewer.jupyter.org/gist/talbertc-usgs/18f8901fc98f109f2b71156cf3ac81cd/">https://nbviewer.jupyter.org/gist/talbertc-usgs/18f8901fc98f109f2b71156cf3ac81cd</A> </span></div>
<div style="position:absolute;left:50.01px;top:194.73px" class="cls_024"><span class="cls_024">from branca.element import Template, MacroElement</span></div>
<div style="position:absolute;left:50.01px;top:223.25px" class="cls_024"><span class="cls_024">template = """</span></div>
<div style="position:absolute;left:50.01px;top:237.51px" class="cls_024"><span class="cls_024">{% macro html(this, kwargs) %}</span></div>
<div style="position:absolute;left:50.01px;top:266.03px" class="cls_024"><span class="cls_024">&lt;!doctype html></span></div>
<div style="position:absolute;left:50.01px;top:280.29px" class="cls_024"><span class="cls_024">&lt;html lang="en"></span></div>
<div style="position:absolute;left:50.01px;top:294.55px" class="cls_024"><span class="cls_024">&lt;head></span></div>
<div style="position:absolute;left:61.57px;top:308.81px" class="cls_024"><span class="cls_024">&lt;meta charset="utf-8"></span></div>
<div style="position:absolute;left:61.57px;top:323.07px" class="cls_024"><span class="cls_024">&lt;meta name="viewport" content="width=device-width, initial-scale=1"></span></div>
<div style="position:absolute;left:61.57px;top:337.33px" class="cls_024"><span class="cls_024">&lt;title>jQuery UI Draggable - Default functionality&lt;/title></span></div>
<div style="position:absolute;left:61.57px;top:351.58px" class="cls_024"><span class="cls_024">&lt;link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"></span></div>
<div style="position:absolute;left:61.57px;top:380.10px" class="cls_024"><span class="cls_024">&lt;script src="</span><span class="cls_050">https://code.jquery.com/jquery-1.12.4.js</span><span class="cls_024">">&lt;/script></span></div>
<div style="position:absolute;left:61.57px;top:394.36px" class="cls_024"><span class="cls_024">&lt;script src="</span><span class="cls_050">https://code.jquery.com/ui/1.12.1/jquery-ui.js</span><span class="cls_024">">&lt;/script></span></div>
<div style="position:absolute;left:61.57px;top:422.88px" class="cls_024"><span class="cls_024">&lt;script></span></div>
<div style="position:absolute;left:61.57px;top:437.14px" class="cls_024"><span class="cls_024">$( function() {</span></div>
<div style="position:absolute;left:73.12px;top:451.40px" class="cls_024"><span class="cls_024">$( "#maplegend" ).draggable({</span></div>
<div style="position:absolute;left:165.55px;top:465.66px" class="cls_024"><span class="cls_024">start: function (event, ui) {</span></div>
<div style="position:absolute;left:188.65px;top:479.92px" class="cls_024"><span class="cls_024">$(this).css({</span></div>
<div style="position:absolute;left:211.76px;top:494.18px" class="cls_024"><span class="cls_024">right: "auto",</span></div>
<div style="position:absolute;left:211.76px;top:508.43px" class="cls_024"><span class="cls_024">top: "auto",</span></div>
<div style="position:absolute;left:211.76px;top:522.69px" class="cls_024"><span class="cls_024">bottom: "auto"</span></div>
<div style="position:absolute;left:188.65px;top:536.95px" class="cls_024"><span class="cls_024">});</span></div>
<div style="position:absolute;left:165.55px;top:551.21px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:142.44px;top:565.47px" class="cls_024"><span class="cls_024">});</span></div>
<div style="position:absolute;left:50.01px;top:579.73px" class="cls_024"><span class="cls_024">});</span></div>
<div style="position:absolute;left:61.57px;top:608.25px" class="cls_024"><span class="cls_024">&lt;/script></span></div>
<div style="position:absolute;left:50.01px;top:622.51px" class="cls_024"><span class="cls_024">&lt;/head></span></div>
<div style="position:absolute;left:50.01px;top:636.77px" class="cls_024"><span class="cls_024">&lt;body></span></div>
<div style="position:absolute;left:50.01px;top:679.54px" class="cls_024"><span class="cls_024">&lt;div id='maplegend' class='maplegend'</span></div>
<div style="position:absolute;left:73.12px;top:693.80px" class="cls_024"><span class="cls_024">style='position: absolute; z-index:9999; border:2px solid grey; background-color:rgba(255, 255, 255, 0.8);</span></div>
<div style="position:absolute;left:78.90px;top:708.06px" class="cls_024"><span class="cls_024">border-radius:6px; padding: 10px; font-size:14px; right: 20px; bottom: 20px;'></span></div>
<div style="position:absolute;left:50.01px;top:736.58px" class="cls_024"><span class="cls_024">&lt;div class='legend-title'>Legend&lt;/div></span></div>
<div style="position:absolute;left:50.01px;top:750.84px" class="cls_024"><span class="cls_024">&lt;div class='legend-scale'></span></div>
<div style="position:absolute;left:61.57px;top:765.10px" class="cls_024"><span class="cls_024">&lt;ul class='legend-labels'></span></div>
<div style="position:absolute;left:73.12px;top:779.36px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#FFFFFF;opacity:0.6;'>&lt;/span>No cases&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:793.62px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#fff5f0;opacity:0.6;'>&lt;/span>1 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:807.88px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#fee0d2;opacity:0.6;'>&lt;/span>2 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:822.13px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#fcbba1;opacity:0.6;'>&lt;/span>3 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:836.39px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#fc9272;opacity:0.6;'>&lt;/span>4 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:850.65px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#fb6a4a;opacity:0.6;'>&lt;/span>5 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:864.91px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#ef3b2c;opacity:0.6;'>&lt;/span>6 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:879.17px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#cb181d;opacity:0.6;'>&lt;/span>7 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:893.43px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#a50f15;opacity:0.6;'>&lt;/span>8 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:907.69px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#67000d;opacity:0.6;'>&lt;/span>9 Quantile&lt;/li></span></div>
<div style="position:absolute;left:73.12px;top:921.95px" class="cls_024"><span class="cls_024">&lt;li>&lt;span style='background:#000000;opacity:0.6;'>&lt;/span>Other&lt;/li></span></div>
<div style="position:absolute;left:61.57px;top:936.21px" class="cls_024"><span class="cls_024">&lt;/ul></span></div>
<div style="position:absolute;left:50.01px;top:950.47px" class="cls_024"><span class="cls_024">&lt;/div></span></div>
<div style="position:absolute;left:50.01px;top:964.73px" class="cls_024"><span class="cls_024">&lt;/div></span></div>
<div style="position:absolute;left:50.01px;top:993.24px" class="cls_024"><span class="cls_024">&lt;/body></span></div>
<div style="position:absolute;left:50.01px;top:1007.50px" class="cls_024"><span class="cls_024">&lt;/html></span></div>
<div style="position:absolute;left:50.01px;top:1036.02px" class="cls_024"><span class="cls_024">&lt;style type='text/css'></span></div>
<div style="position:absolute;left:61.57px;top:1050.28px" class="cls_024"><span class="cls_024">.maplegend .legend-title {</span></div>
<div style="position:absolute;left:73.12px;top:1064.54px" class="cls_024"><span class="cls_024">text-align: left;</span></div>
<div style="position:absolute;left:73.12px;top:1078.80px" class="cls_024"><span class="cls_024">margin-bottom: 5px;</span></div>
<div style="position:absolute;left:73.12px;top:1093.06px" class="cls_024"><span class="cls_024">font-weight: bold;</span></div>
<div style="position:absolute;left:73.12px;top:1107.32px" class="cls_024"><span class="cls_024">font-size: 90%;</span></div>
<div style="position:absolute;left:73.12px;top:1121.58px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:61.57px;top:1135.83px" class="cls_024"><span class="cls_024">.maplegend .legend-scale ul {</span></div>
<div style="position:absolute;left:73.12px;top:1150.09px" class="cls_024"><span class="cls_024">margin: 0;</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:799.95px;top:1165.88px" class="cls_002"><span class="cls_002">9/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:9617px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background10.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:51.51px;top:31.13px" class="cls_025"><span class="cls_025">Deaths</span></div>
<div style="position:absolute;left:50.01px;top:97.17px" class="cls_024"><span class="cls_024">m = folium.Map(location = (40, 0), zoom_start = 5.5)</span></div>
<div style="position:absolute;left:50.01px;top:125.69px" class="cls_024"><span class="cls_024">folium.Choropleth(</span></div>
<div style="position:absolute;left:73.12px;top:139.95px" class="cls_024"><span class="cls_024">geo_data = gdf,</span></div>
<div style="position:absolute;left:73.12px;top:154.21px" class="cls_024"><span class="cls_024">name = 'choropleth',</span></div>
<div style="position:absolute;left:73.12px;top:168.47px" class="cls_024"><span class="cls_024">data = df,</span></div>
<div style="position:absolute;left:73.12px;top:182.73px" class="cls_024"><span class="cls_024">columns = ['id', 'TOTAL_DEATHS'],</span></div>
<div style="position:absolute;left:73.12px;top:196.99px" class="cls_024"><span class="cls_024">key_on='feature.properties.id',</span></div>
<div style="position:absolute;left:73.12px;top:211.25px" class="cls_024"><span class="cls_024">fill_color='RdPu',</span></div>
<div style="position:absolute;left:73.12px;top:225.50px" class="cls_024"><span class="cls_024">fill_opacity=0.7,</span></div>
<div style="position:absolute;left:73.12px;top:239.76px" class="cls_024"><span class="cls_024">line_opacity=0.2,</span></div>
<div style="position:absolute;left:73.12px;top:254.02px" class="cls_024"><span class="cls_024">legend_name = 'Total deaths in Spain by region'</span></div>
<div style="position:absolute;left:50.01px;top:268.28px" class="cls_024"><span class="cls_024">).add_to(m)</span></div>
<div style="position:absolute;left:50.01px;top:296.80px" class="cls_024"><span class="cls_024">m</span></div>
<div style="position:absolute;left:481.29px;top:332.07px" class="cls_027"><span class="cls_027">2</span></div>
<div style="position:absolute;left:522.55px;top:332.07px" class="cls_027"><span class="cls_027">1,490</span></div>
<div style="position:absolute;left:572.59px;top:332.07px" class="cls_027"><span class="cls_027">2,978</span></div>
<div style="position:absolute;left:622.62px;top:332.07px" class="cls_027"><span class="cls_027">4,467</span></div>
<div style="position:absolute;left:672.65px;top:332.07px" class="cls_027"><span class="cls_027">5,955</span></div>
<div style="position:absolute;left:722.68px;top:332.07px" class="cls_027"><span class="cls_027">7,443</span></div>
<div style="position:absolute;left:772.71px;top:332.07px" class="cls_027"><span class="cls_027">8,931</span></div>
<div style="position:absolute;left:94.78px;top:339.38px" class="cls_028"><span class="cls_028">+</span></div>
<div style="position:absolute;left:483.79px;top:350.83px" class="cls_027"><span class="cls_027">Total deaths in Spain by region</span></div>
<div style="position:absolute;left:94.78px;top:361.89px" class="cls_028"><span class="cls_028">−</span></div>
<div style="position:absolute;left:707.37px;top:751.59px" class="cls_029"><span class="cls_029"> </span><A HREF="http://leafletjs.com/">Leaflet (http://leafletjs com)</A> </div>
<div style="position:absolute;left:51.51px;top:776.36px" class="cls_025"><span class="cls_025">Deaths time slider</span></div>
<div style="position:absolute;left:50.01px;top:829.64px" class="cls_024"><span class="cls_024">data_to_color = "TOTAL_DEATHS"</span></div>
<div style="position:absolute;left:50.01px;top:843.90px" class="cls_024"><span class="cls_024">cats, bins =  pd.qcut(df[data_to_color].unique()[np.argsort(df[data_to_color].unique())], q = 9, retbins = True)</span></div>
<div style="position:absolute;left:50.01px;top:858.16px" class="cls_024"><span class="cls_024">cats = cats.unique()</span></div>
<div style="position:absolute;left:50.01px;top:886.68px" class="cls_024"><span class="cls_024">#----------------------------------------------------------------------------------</span></div>
<div style="position:absolute;left:50.01px;top:915.19px" class="cls_024"><span class="cls_024"># value we will iterate in order to create the styledict</span></div>
<div style="position:absolute;left:50.01px;top:929.45px" class="cls_024"><span class="cls_024">ccaas = list(df["id"].unique())</span></div>
<div style="position:absolute;left:50.01px;top:943.71px" class="cls_024"><span class="cls_024">dates = list(df["DATE_for_Folium"].unique())</span></div>
<div style="position:absolute;left:50.01px;top:972.23px" class="cls_024"><span class="cls_024"># create the color dict and color column</span></div>
<div style="position:absolute;left:50.01px;top:986.49px" class="cls_024"><span class="cls_024">df["COLORS"] = df[data_to_color].apply(get_hex_colors_2, args = [cats]) # we create a colum in the df so that we can itera</span></div>
<div style="position:absolute;left:50.01px;top:1015.01px" class="cls_024"><span class="cls_024"># creates the styledict for the map</span></div>
<div style="position:absolute;left:50.01px;top:1029.27px" class="cls_024"><span class="cls_024">styledict = {}</span></div>
<div style="position:absolute;left:50.01px;top:1057.78px" class="cls_024"><span class="cls_024"># iterate the populate the styledict</span></div>
<div style="position:absolute;left:50.01px;top:1072.04px" class="cls_024"><span class="cls_024">for ccaa in ccaas:</span></div>
<div style="position:absolute;left:73.12px;top:1086.30px" class="cls_024"><span class="cls_024">styledict[str(ccaa)] = {date: {'color': df[(df["id"] == ccaa) & (df["DATE_for_Folium"] == date)]["COLORS"].values[0],</span></div>
<div style="position:absolute;left:252.19px;top:1100.56px" class="cls_024"><span class="cls_024">'opacity': 0.6} for date in dates}</span></div>
<div style="position:absolute;left:50.01px;top:1129.08px" class="cls_024"><span class="cls_024"># creates and renders the Folium map</span></div>
<div style="position:absolute;left:50.01px;top:1143.34px" class="cls_024"><span class="cls_024">m = folium.Map(location=(40, 0), tiles='OpenStreetMap', zoom_start=6)</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:799.95px;top:1165.88px" class="cls_002"><span class="cls_002">8/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:10818px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background11.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:73.12px;top:30.38px" class="cls_024"><span class="cls_024">margin-bottom: 5px;</span></div>
<div style="position:absolute;left:73.12px;top:44.64px" class="cls_024"><span class="cls_024">padding: 0;</span></div>
<div style="position:absolute;left:73.12px;top:58.90px" class="cls_024"><span class="cls_024">float: left;</span></div>
<div style="position:absolute;left:73.12px;top:73.16px" class="cls_024"><span class="cls_024">list-style: none;</span></div>
<div style="position:absolute;left:73.12px;top:87.42px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:61.57px;top:101.68px" class="cls_024"><span class="cls_024">.maplegend .legend-scale ul li {</span></div>
<div style="position:absolute;left:73.12px;top:115.93px" class="cls_024"><span class="cls_024">font-size: 80%;</span></div>
<div style="position:absolute;left:73.12px;top:130.19px" class="cls_024"><span class="cls_024">list-style: none;</span></div>
<div style="position:absolute;left:73.12px;top:144.45px" class="cls_024"><span class="cls_024">margin-left: 0;</span></div>
<div style="position:absolute;left:73.12px;top:158.71px" class="cls_024"><span class="cls_024">line-height: 18px;</span></div>
<div style="position:absolute;left:73.12px;top:172.97px" class="cls_024"><span class="cls_024">margin-bottom: 2px;</span></div>
<div style="position:absolute;left:73.12px;top:187.23px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:61.57px;top:201.49px" class="cls_024"><span class="cls_024">.maplegend ul.legend-labels li span {</span></div>
<div style="position:absolute;left:73.12px;top:215.75px" class="cls_024"><span class="cls_024">display: block;</span></div>
<div style="position:absolute;left:73.12px;top:230.01px" class="cls_024"><span class="cls_024">float: left;</span></div>
<div style="position:absolute;left:73.12px;top:244.27px" class="cls_024"><span class="cls_024">height: 16px;</span></div>
<div style="position:absolute;left:73.12px;top:258.53px" class="cls_024"><span class="cls_024">width: 30px;</span></div>
<div style="position:absolute;left:73.12px;top:272.78px" class="cls_024"><span class="cls_024">margin-right: 5px;</span></div>
<div style="position:absolute;left:73.12px;top:287.04px" class="cls_024"><span class="cls_024">margin-left: 0;</span></div>
<div style="position:absolute;left:73.12px;top:301.30px" class="cls_024"><span class="cls_024">border: 1px solid #999;</span></div>
<div style="position:absolute;left:73.12px;top:315.56px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:61.57px;top:329.82px" class="cls_024"><span class="cls_024">.maplegend .legend-source {</span></div>
<div style="position:absolute;left:73.12px;top:344.08px" class="cls_024"><span class="cls_024">font-size: 80%;</span></div>
<div style="position:absolute;left:73.12px;top:358.34px" class="cls_024"><span class="cls_024">color: #777;</span></div>
<div style="position:absolute;left:73.12px;top:372.60px" class="cls_024"><span class="cls_024">clear: both;</span></div>
<div style="position:absolute;left:73.12px;top:386.86px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:61.57px;top:401.12px" class="cls_024"><span class="cls_024">.maplegend a {</span></div>
<div style="position:absolute;left:73.12px;top:415.38px" class="cls_024"><span class="cls_024">color: #777;</span></div>
<div style="position:absolute;left:73.12px;top:429.63px" class="cls_024"><span class="cls_024">}</span></div>
<div style="position:absolute;left:50.01px;top:443.89px" class="cls_024"><span class="cls_024">&lt;/style></span></div>
<div style="position:absolute;left:50.01px;top:458.15px" class="cls_024"><span class="cls_024">{% endmacro %}"""</span></div>
<div style="position:absolute;left:50.01px;top:486.67px" class="cls_024"><span class="cls_024">macro = MacroElement()</span></div>
<div style="position:absolute;left:50.01px;top:500.93px" class="cls_024"><span class="cls_024">macro._template = Template(template)</span></div>
<div style="position:absolute;left:50.01px;top:529.45px" class="cls_024"><span class="cls_024">m.get_root().add_child(macro)</span></div>
<div style="position:absolute;left:79.28px;top:570.72px" class="cls_026"><span class="cls_026">Make this Notebook Trusted to load map: File -> Trust Notebook</span></div>
<div style="position:absolute;left:390.07px;top:576.73px" class="cls_030"><span class="cls_030">Wed May 20 2020</span></div>
<div style="position:absolute;left:94.78px;top:637.32px" class="cls_028"><span class="cls_028">+</span></div>
<div style="position:absolute;left:94.78px;top:659.83px" class="cls_028"><span class="cls_028">−</span></div>
<div style="position:absolute;left:721.64px;top:799.92px" class="cls_031"><span class="cls_031">Legend</span></div>
<div style="position:absolute;left:747.91px;top:818.23px" class="cls_032"><span class="cls_032">No cases</span></div>
<div style="position:absolute;left:747.91px;top:833.24px" class="cls_032"><span class="cls_032">1 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:848.25px" class="cls_032"><span class="cls_032">2 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:863.26px" class="cls_032"><span class="cls_032">3 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:878.27px" class="cls_032"><span class="cls_032">4 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:893.28px" class="cls_032"><span class="cls_032">5 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:908.29px" class="cls_032"><span class="cls_032">6 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:923.30px" class="cls_032"><span class="cls_032">7 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:938.31px" class="cls_032"><span class="cls_032">8 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:953.32px" class="cls_032"><span class="cls_032">9 Quantile</span></div>
<div style="position:absolute;left:747.91px;top:968.33px" class="cls_032"><span class="cls_032">Other</span></div>
<div style="position:absolute;left:51.51px;top:1023.26px" class="cls_025"><span class="cls_025">Mortality rate</span></div>
<div style="position:absolute;left:50.01px;top:1076.55px" class="cls_024"><span class="cls_024">df["Infected_1000h"] = df["TOTAL_INFECTED"]/(df["Population"]/1000)</span></div>
<div style="position:absolute;left:50.01px;top:1090.81px" class="cls_024"><span class="cls_024">df["Mortality_rate"] = df["TOTAL_DEATHS"] / df["TOTAL_INFECTED"]</span></div>
<div style="position:absolute;left:50.01px;top:1105.07px" class="cls_024"><span class="cls_024">df.fillna(0, inplace = True)</span></div>
<div style="position:absolute;left:50.01px;top:1119.32px" class="cls_024"><span class="cls_024">df.tail()</span></div>
<div style="position:absolute;left:55.79px;top:1157.60px" class="cls_024"><span class="cls_024">lt fi</span></div>
<div style="position:absolute;left:107.78px;top:1157.60px" class="cls_024"><span class="cls_024">(fi   i</span></div>
<div style="position:absolute;left:171.32px;top:1157.60px" class="cls_024"><span class="cls_024">(20</span></div>
<div style="position:absolute;left:200.19px;top:1157.60px" class="cls_024"><span class="cls_024">10))</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:795.50px;top:1165.88px" class="cls_002"><span class="cls_002">10/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:12019px;width:841px;height:1191px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background12.jpg" width=841 height=1191></div>
<div style="position:absolute;left:26.45px;top:13.88px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:386.53px;top:13.88px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:50.01px;top:23.63px" class="cls_024"><span class="cls_024">plt.figure(figsize = (20, 10))</span></div>
<div style="position:absolute;left:50.01px;top:52.15px" class="cls_024"><span class="cls_024">for ccaa in sorted(list(df["CCAA"].unique())):</span></div>
<div style="position:absolute;left:73.12px;top:80.66px" class="cls_024"><span class="cls_024">x = df["DATE"].unique()</span></div>
<div style="position:absolute;left:73.12px;top:94.92px" class="cls_024"><span class="cls_024">y = df[df["CCAA"] == ccaa]["Mortality_rate"]</span></div>
<div style="position:absolute;left:73.12px;top:123.44px" class="cls_024"><span class="cls_024">plt.plot(x, y, label = ccaa)</span></div>
<div style="position:absolute;left:73.12px;top:137.70px" class="cls_024"><span class="cls_024">plt.title("Evolution of Mortality rate over time")</span></div>
<div style="position:absolute;left:73.12px;top:151.96px" class="cls_024"><span class="cls_024">plt.legend()</span></div>
<div style="position:absolute;left:73.12px;top:166.22px" class="cls_024"><span class="cls_024">plt.xticks(rotation=90)</span></div>
<div style="position:absolute;left:50.01px;top:609.75px" class="cls_024"><span class="cls_024">x = [day for day in range(len(df["DATE"].unique()))]</span></div>
<div style="position:absolute;left:50.01px;top:638.27px" class="cls_024"><span class="cls_024">fig, axes = plt.subplots(nrows=4, ncols=5, figsize=(30,20))</span></div>
<div style="position:absolute;left:50.01px;top:652.53px" class="cls_024"><span class="cls_024"># plt.setp(axes, ylim=(0 ,max(df["Mortality rate"])))</span></div>
<div style="position:absolute;left:50.01px;top:666.79px" class="cls_024"><span class="cls_024">ccaas = list(df["CCAA"].unique())</span></div>
<div style="position:absolute;left:50.01px;top:695.30px" class="cls_024"><span class="cls_024">i = 0</span></div>
<div style="position:absolute;left:50.01px;top:723.82px" class="cls_024"><span class="cls_024">for col_axes in axes:</span></div>
<div style="position:absolute;left:73.11px;top:738.08px" class="cls_024"><span class="cls_024">for ax in col_axes:</span></div>
<div style="position:absolute;left:96.23px;top:752.34px" class="cls_024"><span class="cls_024">if i &lt; len(ccaas):</span></div>
<div style="position:absolute;left:119.33px;top:766.60px" class="cls_024"><span class="cls_024">ccaa = ccaas[i]</span></div>
<div style="position:absolute;left:119.33px;top:780.86px" class="cls_024"><span class="cls_024">y = df[df["CCAA"] == ccaa]["Mortality_rate"].values</span></div>
<div style="position:absolute;left:119.33px;top:809.38px" class="cls_024"><span class="cls_024">ipeaks, _ = find_peaks(y)</span></div>
<div style="position:absolute;left:119.33px;top:837.90px" class="cls_024"><span class="cls_024">ax.plot(x, y, color = "k", alpha = 0.7)</span></div>
<div style="position:absolute;left:119.33px;top:852.15px" class="cls_024"><span class="cls_024">ax.scatter(ipeaks, np.array(y)[ipeaks], color = "red", label = "Local peaks of mortality")</span></div>
<div style="position:absolute;left:119.33px;top:866.41px" class="cls_024"><span class="cls_024">ax.scatter(x[list(y).index(np.max(y))], np.max(y), color = "k", marker = "o", alpha = 0.7, s = 250, label = "M</span></div>
<div style="position:absolute;left:119.33px;top:894.93px" class="cls_024"><span class="cls_024">ax.set_title("Mortality rate {}".format(ccaa))</span></div>
<div style="position:absolute;left:119.33px;top:909.19px" class="cls_024"><span class="cls_024">ax.legend()</span></div>
<div style="position:absolute;left:119.33px;top:923.45px" class="cls_024"><span class="cls_024">ax.grid()</span></div>
<div style="position:absolute;left:119.33px;top:937.71px" class="cls_024"><span class="cls_024">i += 1</span></div>
<div style="position:absolute;left:50.01px;top:966.23px" class="cls_024"><span class="cls_024">fig.delaxes(axes[3, 4])</span></div>
<div style="position:absolute;left:26.45px;top:1165.88px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:796.09px;top:1165.88px" class="cls_002"><span class="cls_002">11/21</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:13220px;width:612px;height:1008px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background13.jpg" width=612 height=1008></div>
<div style="position:absolute;left:26.45px;top:13.04px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:272.03px;top:13.04px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:113.93px;top:23.81px" class="cls_033"><span class="cls_033">ax.plot(x, y, color = "k", alpha = 0.7)</span></div>
<div style="position:absolute;left:113.93px;top:37.21px" class="cls_033"><span class="cls_033">ax.scatter(ipeaks, np.array(y)[ipeaks], color = "red", label = "Local peaks of mortalit</span></div>
<div style="position:absolute;left:113.93px;top:50.62px" class="cls_033"><span class="cls_033">ax.scatter(x[list(y).index(np.max(y))], np.max(y), color = "k", marker = "o", alpha = 0</span></div>
<div style="position:absolute;left:113.93px;top:77.43px" class="cls_033"><span class="cls_033">ax.set_title("Mortality rate {}".format(ccaa))</span></div>
<div style="position:absolute;left:113.93px;top:90.84px" class="cls_033"><span class="cls_033">ax.legend()</span></div>
<div style="position:absolute;left:113.93px;top:104.24px" class="cls_033"><span class="cls_033">ax.grid()</span></div>
<div style="position:absolute;left:113.93px;top:117.65px" class="cls_033"><span class="cls_033">i += 1</span></div>
<div style="position:absolute;left:48.76px;top:144.46px" class="cls_033"><span class="cls_033">fig.delaxes(axes[3, 4])</span></div>
<div style="position:absolute;left:50.17px;top:632.74px" class="cls_034"><span class="cls_034">create the pivot table of total cases</span></div>
<div style="position:absolute;left:48.76px;top:671.55px" class="cls_033"><span class="cls_033">total_df = df.set_index("DATE").resample("D")[["TOTAL_INFECTED", "REQUIERED_HOSPITALIZATION", "REQU</span></div>
<div style="position:absolute;left:48.76px;top:684.95px" class="cls_033"><span class="cls_033">total_df = total_df[total_df["Population"] > 0]</span></div>
<div style="position:absolute;left:48.76px;top:698.36px" class="cls_033"><span class="cls_033">total_df["TOTAL_INFECTED_1000H"] = total_df["TOTAL_INFECTED"]/(total_df["Population"]/1000)</span></div>
<div style="position:absolute;left:48.76px;top:711.76px" class="cls_033"><span class="cls_033">total_df["TOTAL_DEATHS_1000H"] = total_df["TOTAL_DEATHS"]/(total_df["Population"]/1000)</span></div>
<div style="position:absolute;left:48.76px;top:738.58px" class="cls_033"><span class="cls_033"># get the data</span></div>
<div style="position:absolute;left:48.76px;top:751.98px" class="cls_033"><span class="cls_033">x = list(total_df.index)</span></div>
<div style="position:absolute;left:48.76px;top:765.39px" class="cls_033"><span class="cls_033">y_1 = list(total_df["TOTAL_INFECTED_1000H"]) # 1 axis</span></div>
<div style="position:absolute;left:48.76px;top:778.80px" class="cls_033"><span class="cls_033">y_2 = list(total_df["TOTAL_DEATHS_1000H"]) # 2 axis</span></div>
<div style="position:absolute;left:48.76px;top:805.61px" class="cls_033"><span class="cls_033"># create the figures</span></div>
<div style="position:absolute;left:48.76px;top:819.02px" class="cls_033"><span class="cls_033">fig, ax = plt.subplots(figsize = (15, 7))</span></div>
<div style="position:absolute;left:48.76px;top:832.42px" class="cls_033"><span class="cls_033">plot1 = ax.plot(x, y_1, color = "r", label = "Total infected per 1000 habitants") # plot the first</span></div>
<div style="position:absolute;left:48.76px;top:845.83px" class="cls_033"><span class="cls_033">plt.xticks(rotation=90) # rotate the date</span></div>
<div style="position:absolute;left:48.76px;top:872.64px" class="cls_033"><span class="cls_033">ax2 = ax.twinx() # create a secondary axis</span></div>
<div style="position:absolute;left:48.76px;top:886.05px" class="cls_033"><span class="cls_033">plot2 = ax2.plot(x, y_2, color = "k", label = "Total deaths per 1000 habitants") # plot the second</span></div>
<div style="position:absolute;left:48.76px;top:899.45px" class="cls_033"><span class="cls_033">fig.tight_layout()</span></div>
<div style="position:absolute;left:48.76px;top:912.86px" class="cls_033"><span class="cls_033">plt.title("Evolution of total infected cases and total deaths per 1000 habitants")</span></div>
<div style="position:absolute;left:48.76px;top:939.67px" class="cls_033"><span class="cls_033"># create a common legend</span></div>
<div style="position:absolute;left:48.76px;top:953.08px" class="cls_033"><span class="cls_033">lns = plot1 + plot2</span></div>
<div style="position:absolute;left:48.76px;top:966.49px" class="cls_033"><span class="cls_033">labs = [l.get_label() for l in lns]</span></div>
<div style="position:absolute;left:26.45px;top:983.04px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=-y1ii3owkbnc&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=-y1iI3OwKBnC&printMode=true</A> </div>
<div style="position:absolute;left:566.50px;top:983.04px" class="cls_002"><span class="cls_002">13/23</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:14238px;width:612px;height:1008px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background14.jpg" width=612 height=1008></div>
<div style="position:absolute;left:26.45px;top:13.04px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:272.03px;top:13.04px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:113.93px;top:23.81px" class="cls_033"><span class="cls_033">ax.plot(x, y, color = "k", alpha = 0.7)</span></div>
<div style="position:absolute;left:113.93px;top:37.21px" class="cls_033"><span class="cls_033">ax.scatter(ipeaks, np.array(y)[ipeaks], color = "red", label = "Local peaks of mortalit</span></div>
<div style="position:absolute;left:113.93px;top:50.62px" class="cls_033"><span class="cls_033">ax.scatter(x[list(y).index(np.max(y))], np.max(y), color = "k", marker = "o", alpha = 0</span></div>
<div style="position:absolute;left:113.93px;top:77.43px" class="cls_033"><span class="cls_033">ax.set_title("Mortality rate {}".format(ccaa))</span></div>
<div style="position:absolute;left:113.93px;top:90.84px" class="cls_033"><span class="cls_033">ax.legend()</span></div>
<div style="position:absolute;left:113.93px;top:104.24px" class="cls_033"><span class="cls_033">ax.grid()</span></div>
<div style="position:absolute;left:113.93px;top:117.65px" class="cls_033"><span class="cls_033">i += 1</span></div>
<div style="position:absolute;left:48.76px;top:144.46px" class="cls_033"><span class="cls_033">fig.delaxes(axes[3, 4])</span></div>
<div style="position:absolute;left:50.17px;top:632.74px" class="cls_034"><span class="cls_034">create the pivot table of total cases</span></div>
<div style="position:absolute;left:48.76px;top:671.55px" class="cls_033"><span class="cls_033">total_df = df.set_index("DATE").resample("D")[["TOTAL_INFECTED", "REQUIERED_HOSPITALIZATION", "REQU</span></div>
<div style="position:absolute;left:48.76px;top:684.95px" class="cls_033"><span class="cls_033">total_df = total_df[total_df["Population"] > 0]</span></div>
<div style="position:absolute;left:48.76px;top:698.36px" class="cls_033"><span class="cls_033">total_df["TOTAL_INFECTED_1000H"] = total_df["TOTAL_INFECTED"]/(total_df["Population"]/1000)</span></div>
<div style="position:absolute;left:48.76px;top:711.76px" class="cls_033"><span class="cls_033">total_df["TOTAL_DEATHS_1000H"] = total_df["TOTAL_DEATHS"]/(total_df["Population"]/1000)</span></div>
<div style="position:absolute;left:48.76px;top:738.58px" class="cls_033"><span class="cls_033"># get the data</span></div>
<div style="position:absolute;left:48.76px;top:751.98px" class="cls_033"><span class="cls_033">x = list(total_df.index)</span></div>
<div style="position:absolute;left:48.76px;top:765.39px" class="cls_033"><span class="cls_033">y_1 = list(total_df["TOTAL_INFECTED_1000H"]) # 1 axis</span></div>
<div style="position:absolute;left:48.76px;top:778.80px" class="cls_033"><span class="cls_033">y_2 = list(total_df["TOTAL_DEATHS_1000H"]) # 2 axis</span></div>
<div style="position:absolute;left:48.76px;top:805.61px" class="cls_033"><span class="cls_033"># create the figures</span></div>
<div style="position:absolute;left:48.76px;top:819.02px" class="cls_033"><span class="cls_033">fig, ax = plt.subplots(figsize = (15, 7))</span></div>
<div style="position:absolute;left:48.76px;top:832.42px" class="cls_033"><span class="cls_033">plot1 = ax.plot(x, y_1, color = "r", label = "Total infected per 1000 habitants") # plot the first</span></div>
<div style="position:absolute;left:48.76px;top:845.83px" class="cls_033"><span class="cls_033">plt.xticks(rotation=90) # rotate the date</span></div>
<div style="position:absolute;left:48.76px;top:872.64px" class="cls_033"><span class="cls_033">ax2 = ax.twinx() # create a secondary axis</span></div>
<div style="position:absolute;left:48.76px;top:886.05px" class="cls_033"><span class="cls_033">plot2 = ax2.plot(x, y_2, color = "k", label = "Total deaths per 1000 habitants") # plot the second</span></div>
<div style="position:absolute;left:48.76px;top:899.45px" class="cls_033"><span class="cls_033">fig.tight_layout()</span></div>
<div style="position:absolute;left:48.76px;top:912.86px" class="cls_033"><span class="cls_033">plt.title("Evolution of total infected cases and total deaths per 1000 habitants")</span></div>
<div style="position:absolute;left:48.76px;top:939.67px" class="cls_033"><span class="cls_033"># create a common legend</span></div>
<div style="position:absolute;left:48.76px;top:953.08px" class="cls_033"><span class="cls_033">lns = plot1 + plot2</span></div>
<div style="position:absolute;left:48.76px;top:966.49px" class="cls_033"><span class="cls_033">labs = [l.get_label() for l in lns]</span></div>
<div style="position:absolute;left:26.45px;top:983.04px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:566.50px;top:983.04px" class="cls_002"><span class="cls_002">13/22</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:15256px;width:612px;height:1008px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background15.jpg" width=612 height=1008></div>
<div style="position:absolute;left:26.45px;top:13.04px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:272.03px;top:13.04px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:48.76px;top:28.75px" class="cls_033"><span class="cls_033">ax.legend(lns, labs, loc=0)</span></div>
<div style="position:absolute;left:48.76px;top:55.56px" class="cls_033"><span class="cls_033"># prettify</span></div>
<div style="position:absolute;left:48.76px;top:68.96px" class="cls_033"><span class="cls_033">ax.grid()</span></div>
<div style="position:absolute;left:48.76px;top:82.37px" class="cls_033"><span class="cls_033">ax.set_xlabel("Date")</span></div>
<div style="position:absolute;left:48.76px;top:95.78px" class="cls_033"><span class="cls_033">ax.set_ylabel("Ratio of total infected per 1000 habitants")</span></div>
<div style="position:absolute;left:48.76px;top:109.18px" class="cls_033"><span class="cls_033">ax2.set_ylabel("Ratio of total deaths per 1000 habitants")</span></div>
<div style="position:absolute;left:76.28px;top:134.59px" class="cls_033"><span class="cls_033">Text(998.875, 0.5, 'Ratio of total deaths per 1000 habitants')</span></div>
<div style="position:absolute;left:50.17px;top:491.62px" class="cls_035"><span class="cls_035">8 of March manifestation</span></div>
<div style="position:absolute;left:50.17px;top:524.08px" class="cls_034"><span class="cls_034">On 8 of March, the goverment allowed a massive manifestationa all over the country for the international w</span></div>
<div style="position:absolute;left:50.17px;top:547.36px" class="cls_034"><span class="cls_034">By that time, there where already some informed cases, but, we only know what we know. Now, since the vir</span></div>
<div style="position:absolute;left:50.17px;top:565.00px" class="cls_034"><span class="cls_034">days to incubate in your body, this means that a person who was on the manifestation and begin to have sy</span></div>
<div style="position:absolute;left:50.17px;top:582.64px" class="cls_034"><span class="cls_034">likely that was already infected or got infected. Let's make this shift in infected cases and see the result.</span></div>
<div style="position:absolute;left:50.17px;top:605.92px" class="cls_036"><span class="cls_036">As you can see, when the manifestation was held, it is likely that there was around between 10k and 30k m</span></div>
<div style="position:absolute;left:50.17px;top:623.56px" class="cls_036"><span class="cls_036">than the o  cial 1006 cases.</span></div>
<div style="position:absolute;left:48.76px;top:662.37px" class="cls_033"><span class="cls_033">total_df["SHIFT_7_DAYS"] = total_df["TOTAL_INFECTED"].shift(-7)</span></div>
<div style="position:absolute;left:48.76px;top:675.78px" class="cls_033"><span class="cls_033">total_df["SHIFT_14_DAYS"] = total_df["TOTAL_INFECTED"].shift(-14)</span></div>
<div style="position:absolute;left:50.17px;top:713.88px" class="cls_037"><span class="cls_037">Known infected cases vs 'Real Cases' with a 1 and 2 week shift</span></div>
<div style="position:absolute;left:48.76px;top:759.75px" class="cls_033"><span class="cls_033">x = np.array([x for x in range(len(total_df.index))])</span></div>
<div style="position:absolute;left:48.76px;top:773.15px" class="cls_033"><span class="cls_033">y_informed = total_df["TOTAL_INFECTED"]</span></div>
<div style="position:absolute;left:48.76px;top:786.56px" class="cls_033"><span class="cls_033">y_real_7_days = total_df["SHIFT_7_DAYS"]</span></div>
<div style="position:absolute;left:48.76px;top:799.96px" class="cls_033"><span class="cls_033">y_real_14_days = total_df["SHIFT_14_DAYS"]</span></div>
<div style="position:absolute;left:48.76px;top:813.37px" class="cls_033"><span class="cls_033">width = np.min(np.diff(x))/3</span></div>
<div style="position:absolute;left:48.76px;top:840.18px" class="cls_033"><span class="cls_033">fig = plt.figure(figsize = (20, 10))</span></div>
<div style="position:absolute;left:48.76px;top:867.00px" class="cls_033"><span class="cls_033">ax = fig.add_subplot(111)</span></div>
<div style="position:absolute;left:48.76px;top:880.40px" class="cls_033"><span class="cls_033">ax.bar(x - width, y_informed, width, color = 'b', label = 'Known cases', alpha = 0.5)</span></div>
<div style="position:absolute;left:48.76px;top:893.81px" class="cls_033"><span class="cls_033">ax.bar(x, y_real_7_days, width, color = 'r', label = '"Real Cases" shift 1 week', alpha = 0.4)</span></div>
<div style="position:absolute;left:48.76px;top:907.22px" class="cls_033"><span class="cls_033">ax.bar(x + width, y_real_14_days, width, color='k', label = '"Real Cases" shift 2 week', alpha = 0.</span></div>
<div style="position:absolute;left:48.76px;top:920.62px" class="cls_033"><span class="cls_033">ax.set_xlabel('Days since first infected case.')</span></div>
<div style="position:absolute;left:48.76px;top:947.43px" class="cls_033"><span class="cls_033">plt.title("Known infected cases vs 'Real Cases' with a 1 and 2 week shift")</span></div>
<div style="position:absolute;left:48.76px;top:960.84px" class="cls_033"><span class="cls_033">plt.axvline(x=17, lw = 1, alpha = 0.3, ymax = 0.4, color = "purple")</span></div>
<div style="position:absolute;left:54.19px;top:974.25px" class="cls_033"><span class="cls_033">lt</span></div>
<div style="position:absolute;left:92.21px;top:974.25px" class="cls_033"><span class="cls_033">t t ("8 M   h</span></div>
<div style="position:absolute;left:184.53px;top:974.25px" class="cls_033"><span class="cls_033">if   t ti    h ld"</span></div>
<div style="position:absolute;left:304.02px;top:974.25px" class="cls_033"><span class="cls_033">(15</span></div>
<div style="position:absolute;left:331.16px;top:974.25px" class="cls_033"><span class="cls_033">80000)</span></div>
<div style="position:absolute;left:385.47px;top:974.25px" class="cls_033"><span class="cls_033">l</span></div>
<div style="position:absolute;left:418.05px;top:974.25px" class="cls_033"><span class="cls_033">"</span></div>
<div style="position:absolute;left:445.20px;top:974.25px" class="cls_033"><span class="cls_033">l ")</span></div>
<div style="position:absolute;left:26.45px;top:983.04px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:566.50px;top:983.04px" class="cls_002"><span class="cls_002">14/22</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:16274px;width:612px;height:1008px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background16.jpg" width=612 height=1008></div>
<div style="position:absolute;left:26.45px;top:13.04px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:272.03px;top:13.04px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:48.76px;top:23.10px" class="cls_033"><span class="cls_033">plt.annotate("8 March manifestation held", xy= (15, 80000), color = "purple")</span></div>
<div style="position:absolute;left:48.76px;top:49.91px" class="cls_033"><span class="cls_033">textstr = '\n'.join((</span></div>
<div style="position:absolute;left:70.48px;top:63.32px" class="cls_033"><span class="cls_033">r'Known cases vs "Real Cases" 1 week shift: {:,.0f}'.format(total_df.iloc[17]["SHIFT_7_DAYS"] -</span></div>
<div style="position:absolute;left:70.48px;top:76.73px" class="cls_033"><span class="cls_033">r'Known cases vs "Real Cases" 2 week shift: {:,.0f}'.format(total_df.iloc[17]["SHIFT_14_DAYS"]</span></div>
<div style="position:absolute;left:48.76px;top:103.54px" class="cls_033"><span class="cls_033">props = dict(boxstyle='round', facecolor='purple', alpha=0.5)</span></div>
<div style="position:absolute;left:48.76px;top:130.35px" class="cls_033"><span class="cls_033"># place a text box in upper left in axes coords</span></div>
<div style="position:absolute;left:48.76px;top:143.76px" class="cls_033"><span class="cls_033">ax.text(0.05, 0.6, textstr, transform=ax.transAxes, fontsize=14,</span></div>
<div style="position:absolute;left:92.21px;top:157.16px" class="cls_033"><span class="cls_033">verticalalignment='top', bbox=props)</span></div>
<div style="position:absolute;left:48.76px;top:183.98px" class="cls_033"><span class="cls_033">plt.legend()</span></div>
<div style="position:absolute;left:76.28px;top:209.38px" class="cls_033"><span class="cls_033">&lt;matplotlib.legend.Legend at 0x7fa53a6eaeb8></span></div>
<div style="position:absolute;left:50.17px;top:588.99px" class="cls_037"><span class="cls_037">Mortality rate by region</span></div>
<div style="position:absolute;left:48.76px;top:634.85px" class="cls_033"><span class="cls_033">short_df = df[df["DATE"] == max(df["DATE"])][["CCAA", "Mortality_rate"]].sort_values("Mortality_rat</span></div>
<div style="position:absolute;left:48.76px;top:648.26px" class="cls_033"><span class="cls_033">x = short_df["CCAA"]</span></div>
<div style="position:absolute;left:48.76px;top:661.67px" class="cls_033"><span class="cls_033">y = short_df["Mortality_rate"]</span></div>
<div style="position:absolute;left:48.76px;top:688.48px" class="cls_033"><span class="cls_033">mean_y = np.mean(y)</span></div>
<div style="position:absolute;left:48.76px;top:701.89px" class="cls_033"><span class="cls_033">mean_y</span></div>
<div style="position:absolute;left:48.76px;top:728.70px" class="cls_033"><span class="cls_033">plt.figure(figsize = (10, 5))</span></div>
<div style="position:absolute;left:48.76px;top:742.10px" class="cls_033"><span class="cls_033">plt.scatter(x, y, c= "red", alpha = 0.5)</span></div>
<div style="position:absolute;left:48.76px;top:755.51px" class="cls_033"><span class="cls_033">plt.title("Mortality rate by region")</span></div>
<div style="position:absolute;left:48.76px;top:782.32px" class="cls_033"><span class="cls_033">plt.xticks(rotation=90)</span></div>
<div style="position:absolute;left:48.76px;top:795.73px" class="cls_033"><span class="cls_033">plt.axhline(mean_y, c = "k", alpha = 0.5, lw = 1)</span></div>
<div style="position:absolute;left:48.76px;top:809.14px" class="cls_033"><span class="cls_033">plt.annotate('Mean mortality is {}%'.format(round(mean_y * 100, 2)),</span></div>
<div style="position:absolute;left:119.36px;top:822.54px" class="cls_033"><span class="cls_033">xy=(12, mean_y),</span></div>
<div style="position:absolute;left:119.36px;top:835.95px" class="cls_033"><span class="cls_033">xycoords='data',</span></div>
<div style="position:absolute;left:119.36px;top:849.36px" class="cls_033"><span class="cls_033">xytext=(50, 50),</span></div>
<div style="position:absolute;left:119.36px;top:862.76px" class="cls_033"><span class="cls_033">textcoords='offset points',</span></div>
<div style="position:absolute;left:119.36px;top:876.17px" class="cls_033"><span class="cls_033">arrowprops=dict(arrowstyle="->", color = "k", alpha = 0.5),</span></div>
<div style="position:absolute;left:119.36px;top:889.57px" class="cls_033"><span class="cls_033">color = "k")</span></div>
<div style="position:absolute;left:26.45px;top:983.04px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:566.50px;top:983.04px" class="cls_002"><span class="cls_002">15/22</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-297px;top:17292px;width:595px;height:842px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background17.jpg" width=595 height=842></div>
<div style="position:absolute;left:26.45px;top:13.12px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:263.53px;top:13.12px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:47.91px;top:26.09px" class="cls_038"><span class="cls_038">x = short_df["CCAA"]</span></div>
<div style="position:absolute;left:47.91px;top:38.92px" class="cls_038"><span class="cls_038">y = short_df["Mortality_rate"]</span></div>
<div style="position:absolute;left:47.91px;top:64.58px" class="cls_038"><span class="cls_038">mean_y = np.mean(y)</span></div>
<div style="position:absolute;left:47.91px;top:77.41px" class="cls_038"><span class="cls_038">mean_y</span></div>
<div style="position:absolute;left:47.91px;top:103.08px" class="cls_038"><span class="cls_038">plt.figure(figsize = (10, 5))</span></div>
<div style="position:absolute;left:47.91px;top:115.91px" class="cls_038"><span class="cls_038">plt.scatter(x, y, c= "red", alpha = 0.5)</span></div>
<div style="position:absolute;left:47.91px;top:128.74px" class="cls_038"><span class="cls_038">plt.title("Mortality rate by region")</span></div>
<div style="position:absolute;left:47.91px;top:154.40px" class="cls_038"><span class="cls_038">plt.xticks(rotation=90)</span></div>
<div style="position:absolute;left:47.91px;top:167.23px" class="cls_038"><span class="cls_038">plt.axhline(mean_y, c = "k", alpha = 0.5, lw = 1)</span></div>
<div style="position:absolute;left:47.91px;top:180.06px" class="cls_038"><span class="cls_038">plt.annotate('Mean mortality is {}%'.format(round(mean_y * 100, 2)),</span></div>
<div style="position:absolute;left:115.48px;top:192.89px" class="cls_038"><span class="cls_038">xy=(12, mean_y),</span></div>
<div style="position:absolute;left:115.48px;top:205.72px" class="cls_038"><span class="cls_038">xycoords='data',</span></div>
<div style="position:absolute;left:115.48px;top:218.55px" class="cls_038"><span class="cls_038">xytext=(50, 50),</span></div>
<div style="position:absolute;left:115.48px;top:231.38px" class="cls_038"><span class="cls_038">textcoords='offset points',</span></div>
<div style="position:absolute;left:115.48px;top:244.21px" class="cls_038"><span class="cls_038">arrowprops=dict(arrowstyle="->", color = "k", alpha = 0.5),</span></div>
<div style="position:absolute;left:115.48px;top:257.04px" class="cls_038"><span class="cls_038">color = "k")</span></div>
<div style="position:absolute;left:74.24px;top:281.35px" class="cls_038"><span class="cls_038">Text(50, 50, 'Mean mortality is 10.41%')</span></div>
<div style="position:absolute;left:49.26px;top:590.63px" class="cls_039"><span class="cls_039">General Analysis over the time</span></div>
<div style="position:absolute;left:49.26px;top:639.93px" class="cls_040"><span class="cls_040">Data Load</span></div>
<div style="position:absolute;left:55.34px;top:670.99px" class="cls_005"><span class="cls_005">↳</span><span class="cls_041"> 6 cells hidden</span></div>
<div style="position:absolute;left:49.26px;top:708.13px" class="cls_040"><span class="cls_040">Infected over time</span></div>
<div style="position:absolute;left:47.91px;top:752.02px" class="cls_038"><span class="cls_038">infected = infected[infected['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:47.91px;top:764.85px" class="cls_038"><span class="cls_038">g = sns.FacetGrid(infected, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:47.91px;top:777.68px" class="cls_038"><span class="cls_038">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:47.91px;top:790.51px" class="cls_038"><span class="cls_038">g = g.map(plt.fill_between, 'fecha', 'total', alpha=0.2).set_titles("{col_name} CCAA")</span></div>
<div style="position:absolute;left:47.91px;top:803.34px" class="cls_038"><span class="cls_038">g = g.set titles("{col name}")</span></div>
<div style="position:absolute;left:26.45px;top:817.12px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:549.50px;top:817.12px" class="cls_002"><span class="cls_002">18/26</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-297px;top:18144px;width:595px;height:842px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background18.jpg" width=595 height=842></div>
<div style="position:absolute;left:26.45px;top:13.12px" class="cls_002"><span class="cls_002">6/2/2020</span></div>
<div style="position:absolute;left:263.53px;top:13.12px" class="cls_002"><span class="cls_002">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:47.91px;top:31.50px" class="cls_038"><span class="cls_038">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:47.91px;top:44.33px" class="cls_038"><span class="cls_038">g = g.fig.suptitle('Evolution of total infected in CCAA (log scale)')</span></div>
<div style="position:absolute;left:49.26px;top:596.71px" class="cls_040"><span class="cls_040">ICU over time</span></div>
<div style="position:absolute;left:47.91px;top:640.60px" class="cls_038"><span class="cls_038">uci = uci[uci['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:47.91px;top:653.43px" class="cls_038"><span class="cls_038">g = sns.FacetGrid(uci, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:47.91px;top:666.26px" class="cls_038"><span class="cls_038">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:47.91px;top:679.09px" class="cls_038"><span class="cls_038">g = g.map(plt.fill_between, 'fecha', 'total', alpha=0.2).set_titles("{col_name} CCAA")</span></div>
<div style="position:absolute;left:47.91px;top:691.92px" class="cls_038"><span class="cls_038">g = g.set_titles("{col_name}")</span></div>
<div style="position:absolute;left:47.91px;top:704.75px" class="cls_038"><span class="cls_038">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:47.91px;top:717.58px" class="cls_038"><span class="cls_038">g = g.fig.suptitle('Evolution of total UCI patients in CCAA (log scale)')</span></div>
<div style="position:absolute;left:26.45px;top:817.12px" class="cls_002"><span class="cls_002"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:549.50px;top:817.12px" class="cls_002"><span class="cls_002">19/26</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-595px;top:18996px;width:1191px;height:1684px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background19.jpg" width=1191 height=1684></div>
<div style="position:absolute;left:26.45px;top:13.92px" class="cls_042"><span class="cls_042">6/2/2020</span></div>
<div style="position:absolute;left:561.03px;top:13.92px" class="cls_042"><span class="cls_042">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:51.50px;top:61.17px" class="cls_043"><span class="cls_043">ICU over time</span></div>
<div style="position:absolute;left:50.00px;top:109.92px" class="cls_044"><span class="cls_044">uci = uci[uci['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:50.00px;top:124.17px" class="cls_044"><span class="cls_044">g = sns.FacetGrid(uci, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:50.00px;top:138.42px" class="cls_044"><span class="cls_044">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:50.00px;top:152.67px" class="cls_044"><span class="cls_044">g = g.map(plt.fill_between, 'fecha', 'total', alpha=0.2).set_titles("{col_name} CCAA")</span></div>
<div style="position:absolute;left:50.00px;top:166.92px" class="cls_044"><span class="cls_044">g = g.set_titles("{col_name}")</span></div>
<div style="position:absolute;left:50.00px;top:181.17px" class="cls_044"><span class="cls_044">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:50.00px;top:195.42px" class="cls_044"><span class="cls_044">g = g.fig.suptitle('Evolution of total UCI patients in CCAA (log scale)')</span></div>
<div style="position:absolute;left:51.50px;top:808.92px" class="cls_043"><span class="cls_043">Hospitalized over time</span></div>
<div style="position:absolute;left:50.00px;top:857.67px" class="cls_044"><span class="cls_044">hospitalized = hospitalized[hospitalized['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:50.00px;top:871.92px" class="cls_044"><span class="cls_044">g = sns.FacetGrid(hospitalized, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:50.00px;top:886.17px" class="cls_044"><span class="cls_044">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:50.00px;top:900.42px" class="cls_044"><span class="cls_044">g = g.map(plt.fill_between, 'fecha', 'total', alpha=0.2).set_titles("{col_name} CCAA")</span></div>
<div style="position:absolute;left:50.00px;top:914.67px" class="cls_044"><span class="cls_044">g = g.set_titles("{col_name}")</span></div>
<div style="position:absolute;left:50.00px;top:928.92px" class="cls_044"><span class="cls_044">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:50.00px;top:943.17px" class="cls_044"><span class="cls_044">g = g.fig.suptitle('Evolution of total hospitalized in CCAA (Log Scale) ')</span></div>
<div style="position:absolute;left:51.50px;top:1556.67px" class="cls_043"><span class="cls_043">Recovered over time</span></div>
<div style="position:absolute;left:50.00px;top:1605.42px" class="cls_044"><span class="cls_044">recovered = recovered[recovered['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:50.00px;top:1619.67px" class="cls_044"><span class="cls_044">g = sns.FacetGrid(recovered, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:50.00px;top:1633.92px" class="cls_044"><span class="cls_044">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:50.00px;top:1648.17px" class="cls_044"><span class="cls_044">g = g map(plt fill between  'fecha'  'total'  alpha=0 2) set titles("{col name} CCAA")</span></div>
<div style="position:absolute;left:26.45px;top:1658.92px" class="cls_042"><span class="cls_042"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:1145.09px;top:1658.92px" class="cls_042"><span class="cls_042">11/14</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-595px;top:20690px;width:1191px;height:1684px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background20.jpg" width=1191 height=1684></div>
<div style="position:absolute;left:26.45px;top:13.92px" class="cls_042"><span class="cls_042">6/2/2020</span></div>
<div style="position:absolute;left:561.03px;top:13.92px" class="cls_042"><span class="cls_042">Covid19inSpain.ipynb - Colaboratory</span></div>
<div style="position:absolute;left:50.00px;top:35.67px" class="cls_044"><span class="cls_044">g = g.set_titles("{col_name}")</span></div>
<div style="position:absolute;left:50.00px;top:49.92px" class="cls_044"><span class="cls_044">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:50.00px;top:64.17px" class="cls_044"><span class="cls_044">g = g.fig.suptitle('Evolution of total recovered in CCAA (Log Scale)')</span></div>
<div style="position:absolute;left:51.50px;top:677.67px" class="cls_043"><span class="cls_043">Deaths over time</span></div>
<div style="position:absolute;left:50.00px;top:726.42px" class="cls_044"><span class="cls_044">death = death[death['CCAA']!= 'Total']</span></div>
<div style="position:absolute;left:50.00px;top:740.67px" class="cls_044"><span class="cls_044">g = sns.FacetGrid(death, col="CCAA", col_wrap=5, height=3.5)</span></div>
<div style="position:absolute;left:50.00px;top:754.92px" class="cls_044"><span class="cls_044">g = g.map_dataframe(dateplot, "fecha", "total").set(yscale='log')</span></div>
<div style="position:absolute;left:50.00px;top:769.17px" class="cls_044"><span class="cls_044">g = g.map(plt.fill_between, 'fecha', 'total', alpha=0.2).set_titles("{col_name} CCAA")</span></div>
<div style="position:absolute;left:50.00px;top:783.42px" class="cls_044"><span class="cls_044">g = g.set_titles("{col_name}")</span></div>
<div style="position:absolute;left:50.00px;top:797.67px" class="cls_044"><span class="cls_044">plt.subplots_adjust(top=0.92)</span></div>
<div style="position:absolute;left:50.00px;top:811.92px" class="cls_044"><span class="cls_044">g = g.fig.suptitle('Evolution of total deaths in CCAA (log scale)')</span></div>
<div style="position:absolute;left:51.50px;top:1426.92px" class="cls_045"><span class="cls_045">Patient Analysis</span></div>
<div style="position:absolute;left:51.50px;top:1479.42px" class="cls_046"><span class="cls_046">As a  rst aproach, I will compare the effects of COVID-19 in each age group without taking into account gender.</span></div>
<div style="position:absolute;left:50.00px;top:1520.67px" class="cls_044"><span class="cls_044">age_range= age_range[age_range['rango_edad']!='Total']</span></div>
<div style="position:absolute;left:50.00px;top:1534.92px" class="cls_044"><span class="cls_044">age_range= age_range[age_range['rango_edad']!='80 y +']</span></div>
<div style="position:absolute;left:50.00px;top:1549.17px" class="cls_044"><span class="cls_044">no_gender = age_range[age_range['sexo']=='ambos']</span></div>
<div style="position:absolute;left:50.00px;top:1587.42px" class="cls_044"><span class="cls_044">g = sns.catplot(x="rango_edad", y="casos_confirmados", hue="sexo", data=no_gender, kind="bar", height=5,aspect=3,palette="</span></div>
<div style="position:absolute;left:50.00px;top:1601.67px" class="cls_044"><span class="cls_044">g.despine(left=True)</span></div>
<div style="position:absolute;left:50.00px;top:1615.92px" class="cls_044"><span class="cls_044">g.set_ylabels("Total infected")</span></div>
<div style="position:absolute;left:26.45px;top:1658.92px" class="cls_042"><span class="cls_042"> </span><A HREF="https://colab.research.google.com/drive/1mt_clmlegaqgnx0-c76pqjenjqulbviy#scrollto=1l3wjun94pm_&printmode=true/">https://colab.research.google.com/drive/1MT_clmLEgAQGNx0-C76pqjenJQUlBViY#scrollTo=1L3Wjun94pm_&printMode=true</A> </div>
<div style="position:absolute;left:1144.50px;top:1658.92px" class="cls_042"><span class="cls_042">12/14</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-420px;top:22384px;width:840px;height:1189px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="64eca1fc-a55b-11ea-8b25-0cc47a792c0a_id_64eca1fc-a55b-11ea-8b25-0cc47a792c0a_files/background21.jpg" width=840 height=1189></div>
<div style="position:absolute;left:18.06px;top:10.05px" class="cls_047"><span class="cls_047">age_range= age_range[age_range['rango_edad']!='Total']</span></div>
<div style="position:absolute;left:18.06px;top:22.30px" class="cls_047"><span class="cls_047">age_range= age_range[age_range['rango_edad']!='80 y +']</span></div>
<div style="position:absolute;left:18.06px;top:34.56px" class="cls_047"><span class="cls_047">no_gender = age_range[age_range['sexo']=='ambos']</span></div>
<div style="position:absolute;left:18.06px;top:67.45px" class="cls_047"><span class="cls_047">g = sns.catplot(x="rango_edad", y="casos_confirmados", hue="sexo", data=no_gender, kind="bar", height=5,aspect=3,palette="</span></div>
<div style="position:absolute;left:18.06px;top:79.71px" class="cls_047"><span class="cls_047">g.despine(left=True)</span></div>
<div style="position:absolute;left:18.06px;top:91.96px" class="cls_047"><span class="cls_047">g.set_ylabels("Total infected")</span></div>
<div style="position:absolute;left:43.21px;top:115.18px" class="cls_047"><span class="cls_047">&lt;seaborn.axisgrid.FacetGrid at 0x7fa53d6e27b8></span></div>
<div style="position:absolute;left:18.06px;top:335.13px" class="cls_047"><span class="cls_047">last = age_range[age_range.iloc[:,0]== age_range.iloc[:,0].max()]</span></div>
<div style="position:absolute;left:19.35px;top:368.02px" class="cls_048"><span class="cls_048">In case dataframe format is wrong:</span></div>
<div style="position:absolute;left:18.06px;top:403.50px" class="cls_047"><span class="cls_047">for i in range(last['ingresos_uci'].shape[0]):</span></div>
<div style="position:absolute;left:37.91px;top:415.75px" class="cls_047"><span class="cls_047">if last.iloc[i,5] == 'i':</span></div>
<div style="position:absolute;left:57.78px;top:428.01px" class="cls_047"><span class="cls_047">last.iloc[i,5] = 0</span></div>
<div style="position:absolute;left:18.06px;top:452.52px" class="cls_047"><span class="cls_047">last['ingresos_uci']= last['ingresos_uci'].astype(int)</span></div>
<div style="position:absolute;left:19.35px;top:485.41px" class="cls_048"><span class="cls_048">In order to compare between different categories, we should normalize the data:</span></div>
<div style="position:absolute;left:18.06px;top:520.89px" class="cls_047"><span class="cls_047">last['casos_confirmados'] = last['casos_confirmados'] / np.linalg.norm(last['casos_confirmados'])</span></div>
<div style="position:absolute;left:18.06px;top:533.14px" class="cls_047"><span class="cls_047">last['hospitalizados'] = last['hospitalizados'] / np.linalg.norm(last['hospitalizados'])</span></div>
<div style="position:absolute;left:18.06px;top:545.40px" class="cls_047"><span class="cls_047">last['ingresos_uci'] = last['ingresos_uci'] / np.linalg.norm(last['ingresos_uci'])</span></div>
<div style="position:absolute;left:18.06px;top:557.65px" class="cls_047"><span class="cls_047">last['fallecidos'] = last['fallecidos'] / np.linalg.norm(last['fallecidos'])</span></div>
<div style="position:absolute;left:18.06px;top:590.55px" class="cls_047"><span class="cls_047">last_ambos = last[last['sexo']=='ambos']</span></div>
<div style="position:absolute;left:18.06px;top:602.80px" class="cls_047"><span class="cls_047">last_gender = last[last['sexo']!='ambos']</span></div>
<div style="position:absolute;left:19.35px;top:637.63px" class="cls_049"><span class="cls_049">COVID-19 vs age groups</span></div>
<div style="position:absolute;left:18.06px;top:679.56px" class="cls_047"><span class="cls_047">plt.figure(figsize=(15,5))</span></div>
<div style="position:absolute;left:18.06px;top:691.81px" class="cls_047"><span class="cls_047">plt.plot(last_ambos['rango_edad'], last_ambos['casos_confirmados'],color = 'green',label='Total infected')</span></div>
<div style="position:absolute;left:18.06px;top:704.07px" class="cls_047"><span class="cls_047">plt.plot(last_ambos['rango_edad'], last_ambos['hospitalizados'],color = 'red',label='Hospitalized')</span></div>
<div style="position:absolute;left:18.06px;top:716.32px" class="cls_047"><span class="cls_047">plt.plot( last_ambos['rango_edad'], last_ambos['ingresos_uci'],color = 'yellow',label='UCI')</span></div>
<div style="position:absolute;left:18.06px;top:728.58px" class="cls_047"><span class="cls_047">plt.plot( last_ambos['rango_edad'], last_ambos['fallecidos'],color = 'black',label='Death')</span></div>
<div style="position:absolute;left:18.06px;top:740.83px" class="cls_047"><span class="cls_047">plt.title('COVID-19 vs age groups')</span></div>
<div style="position:absolute;left:18.06px;top:753.09px" class="cls_047"><span class="cls_047">plt.legend()</span></div>
<div style="position:absolute;left:43.21px;top:776.31px" class="cls_047"><span class="cls_047">&lt;matplotlib.legend.Legend at 0x7fa53efb6ef0></span></div>
<div style="position:absolute;left:19.35px;top:1014.31px" class="cls_048"><span class="cls_048">The results are as expected. virus affects mostly older people. We can see that the death´s curve peak is around 80-89yo. The most surprising</span></div>
<div style="position:absolute;left:19.35px;top:1030.44px" class="cls_048"><span class="cls_048">result is the "Total infected" line as the 'peak' goes from 40 to 80 years whick means the disease is present in most of the population.</span></div>
<div style="position:absolute;left:19.35px;top:1067.85px" class="cls_049"><span class="cls_049">COVID-19 vs Gender</span></div>
<div style="position:absolute;left:18.06px;top:1109.77px" class="cls_047"><span class="cls_047">plt.figure(figsize= (10,5))</span></div>
<div style="position:absolute;left:18.06px;top:1122.03px" class="cls_047"><span class="cls_047">sns.relplot(x='rango_edad',y ='casos_confirmados', hue = 'sexo',kind='line',data = last_gender,height=5,aspect=4)</span></div>
<div style="position:absolute;left:18.06px;top:1134.28px" class="cls_047"><span class="cls_047">plt.title('Comparison between men and women: Total infections')</span></div>
</div>

</body>
</html>
